{"version":3,"file":"chunk-webpack.js","sources":["../../../client/build/webpack.js"],"sourcesContent":["import Logger from './logger';\r\nconst logger = new Logger('Webpack');\r\nexport let modules = new Map();\r\nfunction initModuleCache() {\r\n    const startTime = performance.now();\r\n    logger.group('Webpack Module Init');\r\n    // Webpack 5, currently on beta\r\n    // Generate a fake module ID\r\n    const id = Symbol('@steambrew/client');\r\n    let webpackRequire;\r\n    // Insert our module in a new chunk.\r\n    // The module will then be called with webpack's internal require function as its first argument\r\n    window.webpackChunksteamui.push([\r\n        [id],\r\n        {},\r\n        (r) => {\r\n            webpackRequire = r;\r\n        },\r\n    ]);\r\n    logger.log('Initializing all modules. Errors here likely do not matter, as they are usually just failing module side effects.');\r\n    // Loop over every module ID\r\n    for (let id of Object.keys(webpackRequire.m)) {\r\n        try {\r\n            const module = webpackRequire(id);\r\n            if (module) {\r\n                modules.set(id, module);\r\n            }\r\n        }\r\n        catch (e) {\r\n            logger.debug('Ignoring require error for module', id, e);\r\n        }\r\n    }\r\n    logger.groupEnd(`Modules initialized in ${performance.now() - startTime}ms...`);\r\n}\r\ninitModuleCache();\r\nexport const findModule = (filter) => {\r\n    for (const m of modules.values()) {\r\n        if (m.default && filter(m.default))\r\n            return m.default;\r\n        if (filter(m))\r\n            return m;\r\n    }\r\n};\r\nexport const findModuleDetailsByExport = (filter, minExports) => {\r\n    for (const [id, m] of modules) {\r\n        if (!m)\r\n            continue;\r\n        for (const mod of [m.default, m]) {\r\n            if (typeof mod !== 'object')\r\n                continue;\r\n            if (minExports && Object.keys(mod).length < minExports)\r\n                continue;\r\n            for (let exportName in mod) {\r\n                if (mod?.[exportName]) {\r\n                    const filterRes = filter(mod[exportName], exportName);\r\n                    if (filterRes) {\r\n                        return [mod, mod[exportName], exportName, id];\r\n                    }\r\n                    else {\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return [undefined, undefined, undefined, undefined];\r\n};\r\nexport const findModuleByExport = (filter, minExports) => {\r\n    return findModuleDetailsByExport(filter, minExports)?.[0];\r\n};\r\nexport const findModuleExport = (filter, minExports) => {\r\n    return findModuleDetailsByExport(filter, minExports)?.[1];\r\n};\r\n/**\r\n * @deprecated use findModuleExport instead\r\n */\r\nexport const findModuleChild = (filter) => {\r\n    for (const m of modules.values()) {\r\n        for (const mod of [m.default, m]) {\r\n            const filterRes = filter(mod);\r\n            if (filterRes) {\r\n                return filterRes;\r\n            }\r\n            else {\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * @deprecated use createModuleMapping instead\r\n */\r\nexport const findAllModules = (filter) => {\r\n    const out = [];\r\n    for (const m of modules.values()) {\r\n        if (m.default && filter(m.default))\r\n            out.push(m.default);\r\n        if (filter(m))\r\n            out.push(m);\r\n    }\r\n    return out;\r\n};\r\nexport const createModuleMapping = (filter) => {\r\n    const mapping = new Map();\r\n    for (const [id, m] of modules) {\r\n        if (m.default && filter(m.default))\r\n            mapping.set(id, m.default);\r\n        if (filter(m))\r\n            mapping.set(id, m);\r\n    }\r\n    return mapping;\r\n};\r\nexport const CommonUIModule = findModule((m) => {\r\n    if (typeof m !== 'object')\r\n        return false;\r\n    for (let prop in m) {\r\n        if (m[prop]?.contextType?._currentValue && Object.keys(m).length > 60)\r\n            return true;\r\n    }\r\n    return false;\r\n});\r\nexport const IconsModule = findModuleByExport((e) => e?.toString && /Spinner\\)}\\)?,.\\.createElement\\(\\\"path\\\",{d:\\\"M18 /.test(e.toString()));\r\nexport const ReactRouter = findModuleByExport((e) => e.computeRootMatch);\r\n"],"names":["logger","Logger","modules","Map","startTime","performance","now","group","id","Symbol","webpackRequire","window","webpackChunksteamui","push","r","log","Object","keys","m","module","set","e","debug","groupEnd","initModuleCache","findModule","filter","values","default","findModuleDetailsByExport","minExports","mod","length","exportName","undefined","findModuleByExport","findModuleExport","findModuleChild","filterRes","findAllModules","out","createModuleMapping","mapping","CommonUIModule","prop","contextType","_currentValue","IconsModule","toString","test","ReactRouter","computeRootMatch"],"mappings":"0DACA,MAAMA,EAAS,IAAIC,EAAO,WAChB,IAACC,EAAU,IAAIC,KACzB,WACI,MAAMC,EAAYC,YAAYC,MAC9BN,EAAOO,MAAM,uBAGb,MAAMC,EAAKC,OAAO,qBAClB,IAAIC,EAGJC,OAAOC,oBAAoBC,KAAK,CAC5B,CAACL,GACD,CAAA,EACCM,IACGJ,EAAiBI,KAGzBd,EAAOe,IAAI,qHAEX,IAAK,IAAIP,KAAMQ,OAAOC,KAAKP,EAAeQ,GACtC,IACI,MAAMC,EAAST,EAAeF,GAC1BW,GACAjB,EAAQkB,IAAIZ,EAAIW,EAExB,CACA,MAAOE,GACHrB,EAAOsB,MAAM,oCAAqCd,EAAIa,EAC1D,CAEJrB,EAAOuB,SAAS,0BAA0BlB,YAAYC,MAAQF,SAClE,CACAoB,GACY,MAACC,EAAcC,IACvB,IAAK,MAAMR,KAAKhB,EAAQyB,SAAU,CAC9B,GAAIT,EAAEU,SAAWF,EAAOR,EAAEU,SACtB,OAAOV,EAAEU,QACb,GAAIF,EAAOR,GACP,OAAOA,CACf,GAESW,EAA4B,CAACH,EAAQI,KAC9C,IAAK,MAAOtB,EAAIU,KAAMhB,EAClB,GAAKgB,EAEL,IAAK,MAAMa,IAAO,CAACb,EAAEU,QAASV,GAC1B,GAAmB,iBAARa,KAEPD,GAAcd,OAAOC,KAAKc,GAAKC,OAASF,GAE5C,IAAK,IAAIG,KAAcF,EACnB,GAAIA,IAAME,GAAa,CAEnB,GADkBP,EAAOK,EAAIE,GAAaA,GAEtC,MAAO,CAACF,EAAKA,EAAIE,GAAaA,EAAYzB,GAG1C,QAER,CAIZ,MAAO,MAAC0B,OAAWA,OAAWA,OAAWA,IAEhCC,EAAqB,CAACT,EAAQI,IAChCD,EAA0BH,EAAQI,KAAc,GAE9CM,EAAmB,CAACV,EAAQI,IAC9BD,EAA0BH,EAAQI,KAAc,GAK9CO,EAAmBX,IAC5B,IAAK,MAAMR,KAAKhB,EAAQyB,SACpB,IAAK,MAAMI,IAAO,CAACb,EAAEU,QAASV,GAAI,CAC9B,MAAMoB,EAAYZ,EAAOK,GACzB,GAAIO,EACA,OAAOA,CAKf,GAMKC,EAAkBb,IAC3B,MAAMc,EAAM,GACZ,IAAK,MAAMtB,KAAKhB,EAAQyB,SAChBT,EAAEU,SAAWF,EAAOR,EAAEU,UACtBY,EAAI3B,KAAKK,EAAEU,SACXF,EAAOR,IACPsB,EAAI3B,KAAKK,GAEjB,OAAOsB,GAEEC,EAAuBf,IAChC,MAAMgB,EAAU,IAAIvC,IACpB,IAAK,MAAOK,EAAIU,KAAMhB,EACdgB,EAAEU,SAAWF,EAAOR,EAAEU,UACtBc,EAAQtB,IAAIZ,EAAIU,EAAEU,SAClBF,EAAOR,IACPwB,EAAQtB,IAAIZ,EAAIU,GAExB,OAAOwB,GAEEC,EAAiBlB,EAAYP,IACtC,GAAiB,iBAANA,EACP,OAAO,EACX,IAAK,IAAI0B,KAAQ1B,EACb,GAAIA,EAAE0B,IAAOC,aAAaC,eAAiB9B,OAAOC,KAAKC,GAAGc,OAAS,GAC/D,OAAO,EAEf,OAAO,IAEEe,EAAcZ,EAAoBd,GAAMA,GAAG2B,UAAY,qDAAqDC,KAAK5B,EAAE2B,aACnHE,EAAcf,EAAoBd,GAAMA,EAAE8B"}