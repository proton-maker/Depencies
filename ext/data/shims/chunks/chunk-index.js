import"../millennium.js";import{findAllModules as e,CommonUIModule as t,findModuleExport as n,findModule as o,findModuleByExport as i,findModuleDetailsByExport as r,IconsModule as a,ReactRouter as s}from"./chunk-webpack.js";export{createModuleMapping,findModuleChild,modules}from"./chunk-webpack.js";import l from"./chunk-logger.js";const d=e(e=>{if("object"==typeof e&&!e.__esModule){const t=Object.keys(e);return(1!=t.length||!e.version)&&(!(t.length>1e3&&e.AboutSettings)&&(t.length>0&&t.every(t=>!Object.getOwnPropertyDescriptor(e,t)?.get&&"string"==typeof e[t])))}return!1}),c=Object.assign({},...d.map(e=>Object.fromEntries(Object.entries(e).map(([e,t])=>[e,t]))));function u(e){return d.find(t=>t?.[e])?.[e]}const p=new Proxy(u,{get:(e,t)=>{if("string"==typeof t)return e(t)}});function h(e){return d.find(t=>e(t))}function g(e){for(let t of d)for(let n of Object.keys(t))if(t[n]==e)return n}const m=Object.values(t).filter(e=>"object"==typeof e&&e?.render?.toString().includes('createElement("div",{...')||e?.render?.toString().includes('createElement("div",Object.assign({},')),S=new Map(Object.values(m).map(e=>{try{return[e.render({}).props.className.split(" ")[0],e]}catch(e){return console.error("[DFL:Dialog]: failed to render common dialog component",e),[null,null]}})),C=S.get("DialogHeader")||Object.values(t).find(e=>{const t=e?.render?.toString?.();return t?.includes('role:"heading"')&&t.includes(')("DialogHeader",')}),f=S.get("DialogSubHeader"),R=S.get("DialogFooter"),y=S.get("DialogLabel"),P=S.get("DialogBodyText"),_=S.get("DialogBody"),v=S.get("DialogControlsSection"),w=S.get("DialogControlsSectionHeader"),b=Object.values(t).find(e=>e?.render?.toString()?.includes('"DialogButton","_DialogLayout","Primary"')),A=Object.values(t).find(e=>e?.render?.toString()?.includes('"DialogButton","_DialogLayout","Secondary"')),T=A,F=T?.render({}).type;let D=Symbol("MILLENNIUM_CALL_ORIGINAL");function k(e,t,n,o={}){const i=e[t];e[t]=function(...e){n.call(this,e);const t=r.original.call(this,...e);return o.singleShot&&r.unpatch(),t};const r=I(e,t,n,e[t],i);return r}function L(e,t,n,o={}){const i=e[t];e[t]=function(...e){let t=r.original.call(this,...e);return t=n.call(this,e,t),o.singleShot&&r.unpatch(),t};const r=I(e,t,n,e[t],i);return r}function O(e,t,n,o={}){const i=e[t];e[t]=function(...e){const t=n.call(this,e);return t==D?r.original.call(this,...e):(o.singleShot&&r.unpatch(),t)};const r=I(e,t,n,e[t],i);return r}function I(e,t,n,o,i){Object.assign(e[t],i),e[t].toString=()=>i.toString(),Object.defineProperty(e[t],"__millenniumOrig",{get:()=>r.original,set:e=>r.original=e});const r={object:e,property:t,handler:n,patchedFunction:o,original:i,hasUnpatched:!1,unpatch:()=>function(e){const{object:t,property:n,handler:o,patchedFunction:i,original:r}=e;if(e.hasUnpatched)throw new Error("Function is already unpatched.");let a=n,s=t;console.debug("[Patcher] unpatching",{realObject:s,realProp:a,object:t,property:n,handler:o,patchedFunction:i,original:r,isEqual:s[a]===i});for(;s[a]&&s[a]!==i;)s=s[a].__millenniumPatch,a="original",console.debug("[Patcher] moved to next",{realObject:s,realProp:a,object:t,property:n,handler:o,patchedFunction:i,original:r,isEqual:s[a]===i});s[a]=s[a].__millenniumPatch.original,e.hasUnpatched=!0,console.debug("[Patcher] unpatched",{realObject:s,realProp:a,object:t,property:n,handler:o,patchedFunction:i,original:r,isEqual:s[a]===i})}(r)};return e[t].__millenniumPatch=r,r}function E(e,t=!0){let n=t?"const{":"";return e.forEach((t,o)=>{n+=`"?${t}"?:[a-zA-Z_$]{1,2}`,o<e.length-1&&(n+=",")}),new RegExp(n)}let M={};function N(){const e=window.SP_REACT;let t=e?.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED??e?.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return t?.ReactCurrentDispatcher?.current?t.ReactCurrentDispatcher.current:Object.values(t).find(e=>e?.useEffect&&e?.useContext&&e?.useRef&&e?.useState)}function x(e={}){const t=N();return M={useContext:t.useContext,useCallback:t.useCallback,useLayoutEffect:t.useLayoutEffect,useEffect:t.useEffect,useMemo:t.useMemo,useRef:t.useRef,useState:t.useState},t.useCallback=e=>e,t.useContext=e=>e._currentValue,t.useLayoutEffect=e=>{},t.useMemo=(e,t)=>e,t.useEffect=e=>{},t.useRef=e=>({current:e||{}}),t.useState=e=>{let t=e;return[t,e=>t=e]},Object.assign(t,e),t}function U(){const e=N();Object.assign(e,M),M={}}function G(e,t){const n=e(x(t));return U(),n}function W(e,t="type"){return e[t]?.__MILLENNIUM_WRAPPED?e[t]:e[t]={...e[t],__MILLENNIUM_WRAPPED:!0}}function B(e,t="type"){var n;if(e[t]?.__MILLENNIUM_WRAPPED)return e[t];{const o=e[t],i=((n=class extends o{}).__MILLENNIUM_WRAPPED=!0,n);return e[t]=i}}function j(e){return e[Object.keys(e).find(e=>e.startsWith("__reactContainer$"))]||e._reactRootContainer?._internalRoot?.current}function K(e){return e[Object.keys(e).find(e=>e.startsWith("__reactFiber"))]||e[Object.keys(e).find(e=>e.startsWith("__reactInternalInstance"))]}const H=(e,t,n)=>{const{walkable:o=null,ignore:i=[]}=n??{};return e&&"object"==typeof e?t(e)?e:Array.isArray(e)?e.map(e=>H(e,t,n)).find(e=>e):(o||Object.keys(e)).map(o=>!i.includes(o)&&H(e[o],t,n)).find(e=>e):null},X=(e,t)=>H(e,t,{walkable:["props","children","child","sibling"]});function J(e){return e?.ownerDocument?.defaultView}function V(){const[e,t]=SP_REACT.useState(null);return[e=>t(J(e)),e]}let Y=!1;function q(e=!0){Y=e}let $=new l("FCTrampoline");function z(e,t){const n={component:function(...t){return Y&&$.debug("new component rendering with props",t),e.apply(this,t)}};e.prototype.render=function(...e){return Y&&$.debug("rendering trampoline",e,this),SP_REACT.createElement(n.component,this.props,this.props.children)},e.prototype.isReactComponent=!0;let o=!1,i=window.SP_REACT.createElement;const r=()=>{o||(Y&&$.debug("applied stubs"),o=!0,x(t),window.SP_REACT.createElement=()=>(Y&&$.debug("createElement hook called"),Y&&console.trace("createElement trace"),Object.create(e.prototype)))},a=()=>{o&&(Y&&$.debug("removed stubs"),o=!1,U(),window.SP_REACT.createElement=i)};let s=0;return window.SP_REACTDOM.version.startsWith("19.")?(Object.defineProperty(e,"contextType",{configurable:!0,get:function(){return Y&&$.debug("get contexttype",this,this._contextType,o,s),Y&&console.trace("contextType trace"),0==s&&(s=1),null==this._contextType&&(this._contextType={}),this._contextType.appliedCurrentValueHook||($.debug("applied currentvalue hook"),this._contextType.appliedCurrentValueHook=!0,Object.defineProperty(this._contextType,"_currentValue",{configurable:!0,get:function(){return Y&&$.debug("get currentValue",this,o,s),Y&&console.trace("currentValue trace"),1==s&&(s=2,r()),this.__currentValue},set:function(e){return this.__currentValue=e}})),this._contextType},set:function(e){this._contextType=e}}),Object.defineProperty(e.prototype,"updater",{configurable:!0,get:function(){return this._updater},set:function(e){return Y&&$.debug("set updater",this,e,o,s),Y&&console.trace("updater trace"),1!=s&&2!=s||(s=0,a()),this._updater=e}}),Object.defineProperty(e,"getDerivedStateFromProps",{configurable:!0,get:function(){return Y&&$.debug("get getDerivedStateFromProps",this,o,s),Y&&console.trace("getDerivedStateFromProps trace"),1!=s&&2!=s||(s=0,a()),this._getDerivedStateFromProps},set:function(e){this._getDerivedStateFromProps=e}})):window.SP_REACTDOM.version.startsWith("18.")&&(Object.defineProperty(e,"contextType",{configurable:!0,get:function(){return Y&&$.debug("get contexttype",this,o,s),Y&&console.trace("contextType trace"),0==s?s=1:3==s&&(s=4),this._contextType},set:function(e){this._contextType=e}}),Object.defineProperty(e,"contextTypes",{configurable:!0,get:function(){return Y&&$.debug("get contexttypes",this,o,s),Y&&console.trace("contextTypes trace"),1==s&&(s=2,r()),this._contextTypes},set:function(e){this._contextTypes=e}}),Object.defineProperty(e.prototype,"updater",{configurable:!0,get:function(){return this._updater},set:function(e){return Y&&$.debug("set updater",this,e,o,s),Y&&console.trace("updater trace"),2==s&&(s=0,a()),this._updater=e}}),Object.defineProperty(e,"getDerivedStateFromProps",{configurable:!0,get:function(){return Y&&$.debug("get getDerivedStateFromProps",this,o,s),Y&&console.trace("getDerivedStateFromProps trace"),2==s&&(s=0,a()),this._getDerivedStateFromProps},set:function(e){this._getDerivedStateFromProps=e}})),n}let Q=!1,Z=!1;function ee(e=!0){Q=e}function te(e=!0){Z=e}function ne(e,t,n,o,i,r,a="type"){switch(Q&&r.group("Patching node:",e),typeof e?.[a]){case"function":const s=L(e,a,n[o+1]?ie(t,n,o+1,i,r):t);Q&&r.debug("Patched a function component",s);break;case"object":if(e[a]?.prototype?.render){B(e);const s=L(e[a].prototype,"render",n[o+1]?ie(t,n,o+1,i,r):t);Q&&r.debug("Patched class component",s)}else Q&&r.debug("Patching forwardref/memo"),W(e,a),ne(e[a],t,n,o,i,r,e[a]?.render?"render":"type");break;default:r.error("Unhandled component type",e)}Q&&r.groupEnd()}function oe(e,t,n,o,i,r){const a=Q||Z?performance.now():0,s=n[o],l=i[o]||(i[o]=new Map);Q&&r.debug(`Patch step ${o} running`,{tree:e,stepHandler:s,step:o,caches:i});const d=s(e);if(!d||!d.type)return d?(Q&&r.error("Found node without type. Something is probably wrong.",d),e):(Q&&r.warn("Found no node. Depending on your usecase, this might be fine.",d),e);let c;if(Q&&r.debug("Found node",d),c=l.get(d.type))return Q&&r.debug("Found cached patched component",d),d.type=c,(Q||Z)&&r.debug(`Patch step ${o} took ${performance.now()-a}ms with cache`),e;const u=d.type;return ne(d,t,n,o,i,r),l.set(u,d.type),(Q||Z)&&r.debug(`Patch step ${o} took ${performance.now()-a}ms`),e}function ie(e,t,n,o,i){return Q&&i.debug(`Creating handler for step ${n}`),(r,a)=>oe(a,e,t,n,o,i)}function re(e,t,n="ReactPatch"){const o=new l(`ReactTreePatcher -> ${n}`);return Q&&o.debug("Init with options:",e,n),ie(t,e,0,[],o)}const ae=h(e=>e.Title&&e.QuickAccessMenu&&e.BatteryDetailsLabels),se=h(e=>e.ScrollPanel),le=h(e=>e.GamepadDialogContent&&!e.BindingButtons),de=h(e=>e.BatteryPercentageLabel&&e.PanelSection&&!e["vr-dashboard-bar-height"]&&!e.QuickAccessMenu&&!e.QuickAccess&&!e.PerfProfileInfo),ce=h(e=>e.OOBEUpdateStatusContainer),ue=h(e=>e.PlayBarDetailLabel),pe=h(e=>e.SliderControlPanelGroup),he=h(e=>e.TopCapsule),ge=h(e=>e.HeaderLoaded),me=h(e=>e.BasicUiRoot),Se=h(e=>e.GamepadTabbedPage),Ce=h(e=>e.BasicContextMenuModal),fe=h(e=>e.AchievementListItemBase&&!e.Page),Re=h(e=>e.AchievementListItemBase&&e.Page),ye=h(e=>e.AppRunningControls&&e.OverlayAchievements),Pe=h(e=>e.AppDetailsRoot),_e=h(e=>e.SpinnerLoaderContainer),ve=h(e=>e.QuickAccessFooter),we=h(e=>e.PlayButtonContainer),be=h(e=>e.LongTitles&&e.GreyBackground),Ae=h(e=>e.GamepadLibrary),Te=h(e=>e.FocusRingRoot),Fe=h(e=>e.SearchAndTitleContainer),De=h(e=>e.MainBrowserContainer),ke=ae,Le=se,Oe=fe;function Ie(...e){return e.join(" ")}function Ee(e){return new Promise(t=>setTimeout(t,e))}function Me(){if("SP"==document.title)return window;const e=xe();return e?.find(e=>"root_1_"==e.m_ID).Root.Element.ownerDocument.defaultView}function Ne(){return window.GamepadNavTree?.m_context?.m_controller||window.FocusNavController}function xe(){const e=Ne(),t=e.m_ActiveContext||e.m_LastActiveContext;return t?.m_rgGamepadNavigationTrees}const Ue=E(["highlightOnFocus","childrenContainerWidth"],!1),Ge=Object.values(t).find(e=>e?.render?.toString&&Ue.test(e.render.toString())||e?.render?.toString?.().includes('childrenContainerWidth:"min"')),We=n(e=>e.render?.toString().includes("setFocusedColumn:")),Be=n(e=>e?.toString&&e.toString().includes("().ControlsListChild")&&e.toString().includes("().ControlsListOuterPanel")),je=Object.values(o(e=>{if("object"!=typeof e)return!1;for(const t in e)if(e[t]?.prototype?.GetPanelElementProps)return!0;return!1})).find(e=>e.contextType&&e.prototype?.render.toString().includes("fallback:")&&e?.prototype?.SetChecked&&e?.prototype?.Toggle&&e?.prototype?.GetPanelElementProps),Ke=Object.values(t).find(e=>e?.prototype?.SetSelectedOption&&e?.prototype?.BuildMenu),He=E(["dropDownControlRef","description"],!1),Xe=Object.values(t).find(e=>e?.toString&&He.test(e.toString())),Je=n(e=>e.InstallErrorReportingStore&&e?.prototype?.Reset&&e?.prototype?.componentDidCatch),Ve=n(e=>e?.render?.toString().includes('"shift-children-below"')),Ye=E(["flow-children","onActivate","onCancel","focusClassName","focusWithinClassName"]),qe=n(e=>"function"==typeof e&&e?.toString&&Ye.test(e.toString())||e?.render?.toString&&Ye.test(e.render.toString())),$e=n(e=>e?.toString()?.includes(".GetShowDebugFocusRing())"));var ze;!function(e){e[e.INVALID=0]="INVALID",e[e.OK=1]="OK",e[e.CANCEL=2]="CANCEL",e[e.SECONDARY=3]="SECONDARY",e[e.OPTIONS=4]="OPTIONS",e[e.BUMPER_LEFT=5]="BUMPER_LEFT",e[e.BUMPER_RIGHT=6]="BUMPER_RIGHT",e[e.TRIGGER_LEFT=7]="TRIGGER_LEFT",e[e.TRIGGER_RIGHT=8]="TRIGGER_RIGHT",e[e.DIR_UP=9]="DIR_UP",e[e.DIR_DOWN=10]="DIR_DOWN",e[e.DIR_LEFT=11]="DIR_LEFT",e[e.DIR_RIGHT=12]="DIR_RIGHT",e[e.SELECT=13]="SELECT",e[e.START=14]="START",e[e.LSTICK_CLICK=15]="LSTICK_CLICK",e[e.RSTICK_CLICK=16]="RSTICK_CLICK",e[e.LSTICK_TOUCH=17]="LSTICK_TOUCH",e[e.RSTICK_TOUCH=18]="RSTICK_TOUCH",e[e.LPAD_TOUCH=19]="LPAD_TOUCH",e[e.LPAD_CLICK=20]="LPAD_CLICK",e[e.RPAD_TOUCH=21]="RPAD_TOUCH",e[e.RPAD_CLICK=22]="RPAD_CLICK",e[e.REAR_LEFT_UPPER=23]="REAR_LEFT_UPPER",e[e.REAR_LEFT_LOWER=24]="REAR_LEFT_LOWER",e[e.REAR_RIGHT_UPPER=25]="REAR_RIGHT_UPPER",e[e.REAR_RIGHT_LOWER=26]="REAR_RIGHT_LOWER",e[e.STEAM_GUIDE=27]="STEAM_GUIDE",e[e.STEAM_QUICK_MENU=28]="STEAM_QUICK_MENU"}(ze||(ze={}));const Qe=n(e=>e?.toString&&e.toString().includes(".Marquee")&&e.toString().includes("--fade-length")),Ze=n(e=>"function"==typeof e&&e.toString().includes("GetContextMenuManagerFromWindow(")&&e.toString().includes(".CreateContextMenuInstance(")),et=r(e=>e?.render?.toString()?.includes("bPlayAudio:")||e?.prototype?.OnOKButton&&e?.prototype?.OnMouseEnter),tt=n(e=>e?.prototype?.HideIfSubmenu&&e?.prototype?.HideMenu)||Object.values(et?.[0]??{}).find(e=>e?.toString()?.includes?.("useId")&&e?.toString()?.includes?.("labelId")),nt=i(e=>e?.prototype?.Focus&&e?.prototype?.OnOKButton&&e?.prototype?.render?.toString().includes?.('"emphasis"==this.props.tone')),ot=nt&&Object.values(nt).find(e=>"function"==typeof e&&e?.toString?.()?.includes("bInGamepadUI:")),it=et?.[1],rt=n(e=>"function"==typeof e&&/className:.+?\.ContextMenuSeparator/.test(e.toString())),at=n(e=>"function"==typeof e&&e.toString().includes("props.bDisableBackgroundDismiss")&&!e?.prototype?.Cancel),st=(e,t,n={strTitle:"Millennium Dialog",bHideMainWindowForPopouts:!1})=>at(e,t||Me()||window,n.strTitle,n,void 0,{bHideActions:n.bHideActionIcons}),lt=n(e=>e?.toString()?.includes("bUpdateDisabled")&&e?.toString()?.includes("closeModal")&&e?.toString()?.includes("onGamepadCancel")),dt=n(e=>"function"==typeof e&&e.toString().includes("Either closeModal or onCancel should be passed to GenericDialog. Classes: "))||Object.values(o(e=>{if("object"!=typeof e)return!1;for(let t in e)if(e[t]?.m_mapModalManager&&Object.values(e)?.find(e=>e?.type))return!0;return!1})||{})?.find(e=>e?.type?.toString?.()?.includes("((function(){")),[ct,ut]=r(e=>e?.toString().includes(".ModalPosition"),5),pt=(ct?Object.values(ct):[]).find(e=>{const t=e?.toString();return t?.includes(".ShowPortalModal()")&&t?.includes(".OnElementReadyCallbacks.Register(")}),ht=ut,[gt,mt]=r(e=>e.toString()?.includes(".PanelSection")),St=mt,Ct=Object.values(gt).filter(e=>!e?.toString()?.includes(".PanelSection"))[0],ft=n(e=>e?.toString()?.includes('.ProgressBar,"standard"==')),Rt=n(e=>e?.toString()?.includes(".ProgressBarFieldStatus},")),yt=E(["indeterminate","nTransitionSec","nProgress"]),Pt=n(e=>e?.toString&&yt.test(e.toString())),_t=E(["pages","fnSetNavigateToPage","disableRouteReporting"]),vt=n(e=>e?.toString&&_t.test(e.toString())),wt=Object.values(t).find(e=>e?.toString?.()?.includes("SliderField,fallback")||e?.toString?.()?.includes('SliderField",')),bt=Object.values(a)?.find(e=>e?.toString&&/Spinner\)}\)?,.\.createElement\(\"path\",{d:\"M18 /.test(e.toString())),At=n(e=>e?.toString?.()?.includes("Steam Spinner")&&e?.toString?.()?.includes("src"));let Tt;let Ft;try{const Vo=i(e=>e.Unbleed);Vo&&(Ft=Object.values(Vo).find(e=>e?.type?.toString()?.includes("((function(){")))}catch(Yo){console.error("Error finding oldTabs:",Yo)}const Dt=Ft||(e=>{const t=Tt,[n,o]=SP_REACT.useState(t);return SP_REACT.useEffect(()=>{t||(async()=>{console.debug("[DFL:Tabs]: Finding component...");const e=await(async()=>{if(Tt)return Tt;for(;!window?.DeckyPluginLoader?.routerHook?.routes;)console.debug("[Millennium:Tabs]: Waiting for Millennium router..."),await Ee(500);return Tt=G(()=>X(X(window.DeckyPluginLoader.routerHook.routes.find(e=>"/library/app/:appid/achievements"==e.props.path).props.children.type(),e=>e?.props?.scrollTabsTop).type({appid:1}),e=>e?.props?.tabs).type,{useRef:()=>({current:{reaction:{track:()=>{}}}}),useContext:()=>({match:{params:{appid:1}}}),useMemo:()=>({data:{}})})})();console.debug("[DFL:Tabs]: Found!"),o(e)})()},[]),console.log("tc",n),n?SP_REACT.createElement(n,e):SP_JSX_FACTORY.jsx(At,{})}),kt=Object.values(t).find(e=>e?.validateUrl&&e?.validateEmail),Lt=Object.values(t).find(e=>e?.render?.toString()?.includes(".ToggleOff)")),Ot=Object.values(t).find(e=>e?.render?.toString()?.includes("ToggleField,fallback")),It=i(e=>e?.render?.toString?.().includes('{case"x":')),Et=(It?Object.values(It):[]).find(e=>e?.render?.toString?.().includes('{case"x":')),Mt=n(e=>e?.render?.toString().includes(".FocusVisibleChild()),[])")),Nt=e=>{const[t,n]=SP_REACT.useState(!0),[o,i]=SP_REACT.useState(!1);return SP_REACT.useEffect(()=>{n(!0),i(!1);const t=new Image;t.src=e.src||"",t.addEventListener("load",()=>{n(!1)}),t.addEventListener("error",()=>{i(!0)})},[e.src]),t?SP_JSX_FACTORY.jsx("div",{style:{width:e.suspenseWidth||e.style?.width,height:e.suspenseHeight||e.style?.height,background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:o?"Missing image":SP_JSX_FACTORY.jsx(bt,{style:{height:"48px"}})}):SP_JSX_FACTORY.jsx("img",{...e})},xt=({closeModal:e,onConfirm:t=()=>{},title:n="Color Picker",defaultH:o=0,defaultS:i=100,defaultL:r=50,defaultA:a=1})=>{const[s,l]=SP_REACT.useState(o),[d,c]=SP_REACT.useState(i),[u,p]=SP_REACT.useState(r),[h,g]=SP_REACT.useState(a),m={"--decky-color-picker-hvalue":`${s}`,"--decky-color-picker-svalue":`${d}%`,"--decky-color-picker-lvalue":`${u}%`,"--decky-color-picker-avalue":`${h}`};return SP_JSX_FACTORY.jsxs(lt,{bAllowFullSize:!0,onCancel:e,onOK:()=>{t(`hsla(${s}, ${d}%, ${u}%, ${h})`),e()},children:[SP_JSX_FACTORY.jsx("style",{children:`\n        /* This removes the cyan track color that is behind the slider head */\n        .ColorPicker_Container .${pe.SliderTrack} {\n          --left-track-color: #0000;\n          /* This is for compatibility with the "Colored Toggles" CSSLoader Theme*/\n          --colored-toggles-main-color: #0000;\n        }\n\n        .ColorPicker_HSlider .${pe.SliderTrack} {\n          background: linear-gradient(\n            270deg,\n            hsla(360, var(--decky-color-picker-svalue), var(--decky-color-picker-lvalue), var(--decky-color-picker-avalue)),\n            hsla(270, var(--decky-color-picker-svalue), var(--decky-color-picker-lvalue), var(--decky-color-picker-avalue)),\n            hsla(180, var(--decky-color-picker-svalue), var(--decky-color-picker-lvalue), var(--decky-color-picker-avalue)),\n            hsla(90, var(--decky-color-picker-svalue), var(--decky-color-picker-lvalue), var(--decky-color-picker-avalue)),\n            hsla(0, var(--decky-color-picker-svalue), var(--decky-color-picker-lvalue), var(--decky-color-picker-avalue))\n          );\n        }\n\n        .ColorPicker_SSlider .${pe.SliderTrack} {\n          background: linear-gradient(\n            90deg,\n            hsla(var(--decky-color-picker-hvalue), 0%, var(--decky-color-picker-lvalue), var(--decky-color-picker-avalue)),\n            hsla(var(--decky-color-picker-hvalue), 100%, var(--decky-color-picker-lvalue), var(--decky-color-picker-avalue))\n          );\n        }\n\n        .ColorPicker_LSlider .${pe.SliderTrack} {\n          background: linear-gradient(\n            90deg,\n            hsla(var(--decky-color-picker-hvalue), var(--decky-color-picker-svalue), 0%, var(--decky-color-picker-avalue)),\n            hsla(var(--decky-color-picker-hvalue), var(--decky-color-picker-svalue), 50%, var(--decky-color-picker-avalue)),\n            hsla(var(--decky-color-picker-hvalue), var(--decky-color-picker-svalue), 100%, var(--decky-color-picker-avalue))\n          );\n        }\n\n        .ColorPicker_ASlider .${pe.SliderTrack} {\n          background: linear-gradient(\n            90deg,\n            hsla(var(--decky-color-picker-hvalue), var(--decky-color-picker-svalue), var(--decky-color-picker-lvalue), 0),\n            hsla(var(--decky-color-picker-hvalue), var(--decky-color-picker-svalue), var(--decky-color-picker-lvalue), 1)\n          );\n        }\n        `}),SP_JSX_FACTORY.jsxs("div",{className:"ColorPicker_ColorDisplayContainer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1em",marginTop:"-2.5em"},children:[SP_JSX_FACTORY.jsx("div",{children:SP_JSX_FACTORY.jsx("span",{style:{fontSize:"1.5em"},children:SP_JSX_FACTORY.jsx("b",{children:n})})}),SP_JSX_FACTORY.jsx("div",{style:{backgroundColor:`hsla(${s}, ${d}%, ${u}%, ${h})`,width:"40px",height:"40px"}})]}),SP_JSX_FACTORY.jsxs("div",{className:"ColorPicker_Container",style:m,children:[SP_JSX_FACTORY.jsx("div",{className:"ColorPicker_HSlider",children:SP_JSX_FACTORY.jsx(wt,{showValue:!0,editableValue:!0,label:"Hue",value:s,min:0,max:360,onChange:l})}),SP_JSX_FACTORY.jsx("div",{className:"ColorPicker_SSlider",children:SP_JSX_FACTORY.jsx(wt,{showValue:!0,editableValue:!0,label:"Saturation",value:d,min:0,max:100,onChange:c})}),SP_JSX_FACTORY.jsx("div",{className:"ColorPicker_LSlider",children:SP_JSX_FACTORY.jsx(wt,{showValue:!0,editableValue:!0,label:"Lightness",value:u,min:0,max:100,onChange:p})}),SP_JSX_FACTORY.jsx("div",{className:"ColorPicker_ASlider",children:SP_JSX_FACTORY.jsx(wt,{showValue:!0,editableValue:!0,label:"Alpha",value:h,step:.1,min:0,max:1,onChange:g})})]})]})};function Ut(e){void 0===e.animate&&(e.animate=!0);const[t,n]=SP_REACT.useState([...e.entries].sort((e,t)=>e.position-t.position)),[o,i]=SP_REACT.useState(!1);function r(){let n=!o;i(n),n||e.onSave(t)}return SP_REACT.useEffect(()=>{n([...e.entries].sort((e,t)=>e.position-t.position))},[e.entries]),SP_JSX_FACTORY.jsx(SP_REACT.Fragment,{children:SP_JSX_FACTORY.jsx("div",{style:{width:"inherit",height:"inherit",flex:"1 1 1px",scrollPadding:"48px 0px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch"},children:SP_JSX_FACTORY.jsx(qe,{onSecondaryButton:r,onSecondaryActionDescription:o?"Save Order":"Reorder",onClick:r,onButtonDown:function(n){n.detail.button==ze.CANCEL&&o&&(i(!o),e.onSave(t))},children:t.map(i=>SP_JSX_FACTORY.jsx(Gt,{animate:e.animate,listData:t,entryData:i,reorderEntryFunc:n,reorderEnabled:o,fieldProps:e.fieldProps,children:e.interactables?SP_JSX_FACTORY.jsx(e.interactables,{entry:i}):null}))})})})}function Gt(e){const[t,n]=SP_REACT.useState(!1),[o,i]=SP_REACT.useState(!1),r=e.listData;async function a(e){n(e);for(let e=0;e<3;e++)await new Promise(e=>requestAnimationFrame(e));i(e)}return SP_JSX_FACTORY.jsx("div",{style:e.animate?{transition:t||o?"":"transform 0.3s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.3s cubic-bezier(0.25, 1, 0.5, 1)",transform:!e.reorderEnabled||t?"scale(1)":"scale(0.9)",opacity:!e.reorderEnabled||t?1:.7}:{},children:SP_JSX_FACTORY.jsx(Ve,{label:e.entryData.label,...e.fieldProps,focusable:!e.children,onButtonDown:function(t){if(!e.reorderEnabled)return;const n=t,o=r.findIndex(t=>t===e.entryData),i=r[o];if(o<0)return;let a=-1;if(n.detail.button==ze.DIR_DOWN?a=i.position+1:n.detail.button==ze.DIR_UP&&(a=i.position-1),a>=r.length||a<0)return;let s=r.find(e=>e.position===a);if(!s)return;let l=i.position;i.position=s.position,s.position=l,e.reorderEntryFunc([...r].sort((e,t)=>e.position-t.position))},onGamepadBlur:()=>a(!1),onGamepadFocus:()=>a(!0),children:SP_JSX_FACTORY.jsx(qe,{style:{display:"flex",width:"100%",position:"relative"},children:e.children})})})}function Wt(){const e=xe();return e.find(e=>"QuickAccess-NA"===e?.id)?.m_Root?.m_element?.ownerDocument.defaultView??null}function Bt(){const[e,t]=SP_REACT.useState(Wt()?.document.hidden??!1);return SP_REACT.useEffect(()=>{const e=Wt();if(null===e)return void console.error("Could not get window of QuickAccess menu!");const n=()=>t(e.document.hidden);return e.addEventListener("visibilitychange",n),()=>{e.removeEventListener("visibilitychange",n)}},[]),!e}const jt=Object.values(s).find(e=>/return (\w)\?\1\.params:{}/.test(`${e}`));var Kt,Ht,Xt,Jt,Vt,Yt,qt,$t,zt,Qt,Zt,en,tn,nn,on,rn,an,sn,ln,dn,cn,un,pn,hn,gn,mn,Sn,Cn,fn,Rn,yn,Pn,_n,vn,wn,bn,An,Tn,Fn,Dn,kn,Ln,On,In,En,Mn,Nn,xn,Un,Gn,Wn,Bn,jn,Kn,Hn,Xn,Jn,Vn,Yn,qn,$n,zn,Qn,Zn,eo,to,no,oo,io,ro,ao,so,lo,co,uo,po,ho,go,mo;!function(e){e[e.Capsule=0]="Capsule",e[e.Hero=1]="Hero",e[e.Logo=2]="Logo",e[e.Header=3]="Header",e[e.Icon=4]="Icon",e[e.HeroBlur=5]="HeroBlur"}(Kt||(Kt={})),function(e){e[e.Unknown=0]="Unknown",e[e.Unavailable=1]="Unavailable",e[e.Prerelease=2]="Prerelease",e[e.PreloadOnly=3]="PreloadOnly",e[e.Released=4]="Released",e[e.Disabled=5]="Disabled"}(Ht||(Ht={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.SafeMode=2]="SafeMode",e[e.Multiplayer=3]="Multiplayer",e[e.Config=4]="Config",e[e.OpenVR=5]="OpenVR",e[e.Server=6]="Server",e[e.Editor=7]="Editor",e[e.Manual=8]="Manual",e[e.Benchmark=9]="Benchmark",e[e.Option1=10]="Option1",e[e.Option2=11]="Option2",e[e.Option3=12]="Option3",e[e.OculusVR=13]="OculusVR",e[e.OpenVROverlay=14]="OpenVROverlay",e[e.OSVR=15]="OSVR",e[e.OpenXR=16]="OpenXR",e[e.Dialog=1e3]="Dialog"}(Xt||(Xt={})),function(e){e[e.Invalid=-1]="Invalid",e[e.Community=0]="Community",e[e.Microtransaction=1]="Microtransaction",e[e.Collection=2]="Collection",e[e.Art=3]="Art",e[e.Video=4]="Video",e[e.Screenshot=5]="Screenshot",e[e.Game=6]="Game",e[e.Software=7]="Software",e[e.Concept=8]="Concept",e[e.WebGuide=9]="WebGuide",e[e.IntegratedGuide=10]="IntegratedGuide",e[e.Merch=11]="Merch",e[e.ControllerBinding=12]="ControllerBinding",e[e.SteamworksAccessInvite=13]="SteamworksAccessInvite",e[e.SteamVideo=14]="SteamVideo",e[e.GameManagedItem=15]="GameManagedItem",e[e.Max=16]="Max"}(Jt||(Jt={})),function(e){e[e.None=0]="None",e[e.Unspecified=1]="Unspecified",e[e.Paused=2]="Paused",e[e.Canceled=3]="Canceled",e[e.Suspended=4]="Suspended",e[e.NoSubscription=5]="NoSubscription",e[e.NoConnection=6]="NoConnection",e[e.Timeout=7]="Timeout",e[e.MissingKey=8]="MissingKey",e[e.MissingConfig=9]="MissingConfig",e[e.DiskReadFailure=10]="DiskReadFailure",e[e.DiskWriteFailure=11]="DiskWriteFailure",e[e.NotEnoughDiskSpace=12]="NotEnoughDiskSpace",e[e.CorruptGameFiles=13]="CorruptGameFiles",e[e.WaitingForNextDisk=14]="WaitingForNextDisk",e[e.InvalidInstallPath=15]="InvalidInstallPath",e[e.AppRunning=16]="AppRunning",e[e.DependencyFailure=17]="DependencyFailure",e[e.NotInstalled=18]="NotInstalled",e[e.UpdateRequired=19]="UpdateRequired",e[e.Busy=20]="Busy",e[e.NoDownloadSources=21]="NoDownloadSources",e[e.InvalidAppConfig=22]="InvalidAppConfig",e[e.InvalidDepotConfig=23]="InvalidDepotConfig",e[e.MissingManifest=24]="MissingManifest",e[e.NotReleased=25]="NotReleased",e[e.RegionRestricted=26]="RegionRestricted",e[e.CorruptDepotCache=27]="CorruptDepotCache",e[e.MissingExecutable=28]="MissingExecutable",e[e.InvalidPlatform=29]="InvalidPlatform",e[e.InvalidFileSystem=30]="InvalidFileSystem",e[e.CorruptUpdateFiles=31]="CorruptUpdateFiles",e[e.DownloadDisabled=32]="DownloadDisabled",e[e.SharedLibraryLocked=33]="SharedLibraryLocked",e[e.PendingLicense=34]="PendingLicense",e[e.OtherSessionPlaying=35]="OtherSessionPlaying",e[e.CorruptDownload=36]="CorruptDownload",e[e.CorruptDisk=37]="CorruptDisk",e[e.FilePermissions=38]="FilePermissions",e[e.FileLocked=39]="FileLocked",e[e.MissingContent=40]="MissingContent",e[e.Requires64BitOS=41]="Requires64BitOS",e[e.MissingUpdateFiles=42]="MissingUpdateFiles",e[e.NotEnoughDiskQuota=43]="NotEnoughDiskQuota",e[e.LockedSiteLicense=44]="LockedSiteLicense",e[e.ParentalControlBlocked=45]="ParentalControlBlocked",e[e.CreateProcessFailure=46]="CreateProcessFailure",e[e.SteamClientOutdated=47]="SteamClientOutdated",e[e.PlaytimeExceeded=48]="PlaytimeExceeded",e[e.CorruptFileSignature=49]="CorruptFileSignature",e[e.MissingInstalledFiles=50]="MissingInstalledFiles",e[e.CompatibilityToolFailure=51]="CompatibilityToolFailure",e[e.UnmountedUninstallPath=52]="UnmountedUninstallPath",e[e.InvalidBackupPath=53]="InvalidBackupPath",e[e.InvalidPasscode=54]="InvalidPasscode",e[e.ThirdPartyUpdater=55]="ThirdPartyUpdater",e[e.ParentalPlaytimeExceeded=56]="ParentalPlaytimeExceeded",e[e.Max=57]="Max"}(Vt||(Vt={})),function(e){e[e.PlayStation=1]="PlayStation",e[e.Xbox=2]="Xbox",e[e.Generic=4]="Generic",e[e.NintendoSwitch=8]="NintendoSwitch"}(Yt||(Yt={})),function(e){e[e.None=0]="None",e[e.Subscribed=1]="Subscribed",e[e.Free=2]="Free",e[e.RegionRestricted=4]="RegionRestricted",e[e.LowViolence=8]="LowViolence",e[e.InvalidPlatform=16]="InvalidPlatform",e[e.Borrowed=32]="Borrowed",e[e.FreeWeekend=64]="FreeWeekend",e[e.Retail=128]="Retail",e[e.Locked=256]="Locked",e[e.Pending=512]="Pending",e[e.Expired=1024]="Expired",e[e.Permanent=2048]="Permanent",e[e.Recurring=4096]="Recurring",e[e.Canceled=8192]="Canceled",e[e.AutoGrant=16384]="AutoGrant",e[e.PendingGift=32768]="PendingGift",e[e.RentalNotActivated=65536]="RentalNotActivated",e[e.Rental=131072]="Rental",e[e.SiteLicense=262144]="SiteLicense",e[e.LegacyFreeSub=524288]="LegacyFreeSub",e[e.InvalidOSType=1048576]="InvalidOSType",e[e.TimedTrial=2097152]="TimedTrial"}(qt||(qt={})),function(e){e[e.Always=0]="Always",e[e.Launch=1]="Launch",e[e.HighPriority=2]="HighPriority"}($t||($t={})),function(e){e[e.UseGlobal=0]="UseGlobal",e[e.AlwaysAllow=1]="AlwaysAllow",e[e.NeverAllow=2]="NeverAllow"}(zt||(zt={})),function(e){e[e.Invalid=0]="Invalid",e[e.Launching=1]="Launching",e[e.Uninstalling=2]="Uninstalling",e[e.Installing=3]="Installing",e[e.Running=4]="Running",e[e.Validating=5]="Validating",e[e.Updating=6]="Updating",e[e.Downloading=7]="Downloading",e[e.Synchronizing=8]="Synchronizing",e[e.ReadyToInstall=9]="ReadyToInstall",e[e.ReadyToPreload=10]="ReadyToPreload",e[e.ReadyToLaunch=11]="ReadyToLaunch",e[e.RegionRestricted=12]="RegionRestricted",e[e.PresaleOnly=13]="PresaleOnly",e[e.InvalidPlatform=14]="InvalidPlatform",e[e.PreloadComplete=16]="PreloadComplete",e[e.BorrowerLocked=17]="BorrowerLocked",e[e.UpdatePaused=18]="UpdatePaused",e[e.UpdateQueued=19]="UpdateQueued",e[e.UpdateRequired=20]="UpdateRequired",e[e.UpdateDisabled=21]="UpdateDisabled",e[e.DownloadPaused=22]="DownloadPaused",e[e.DownloadQueued=23]="DownloadQueued",e[e.DownloadRequired=24]="DownloadRequired",e[e.DownloadDisabled=25]="DownloadDisabled",e[e.LicensePending=26]="LicensePending",e[e.LicenseExpired=27]="LicenseExpired",e[e.AvailForFree=28]="AvailForFree",e[e.AvailToBorrow=29]="AvailToBorrow",e[e.AvailGuestPass=30]="AvailGuestPass",e[e.Purchase=31]="Purchase",e[e.Unavailable=32]="Unavailable",e[e.NotLaunchable=33]="NotLaunchable",e[e.CloudError=34]="CloudError",e[e.CloudOutOfDate=35]="CloudOutOfDate",e[e.Terminating=36]="Terminating",e[e.OwnerLocked=37]="OwnerLocked",e[e.DownloadFailed=38]="DownloadFailed",e[e.UpdateFailed=39]="UpdateFailed"}(Qt||(Qt={})),function(e){e[e.Invalid=0]="Invalid",e[e.NotApplicable=1]="NotApplicable",e[e.Pass=2]="Pass",e[e.Fail=3]="Fail",e[e.FailMinor=4]="FailMinor"}(Zt||(Zt={})),function(e){e[e.None=0]="None",e[e._2ftLibraryDetails=100]="_2ftLibraryDetails",e[e._2ftLibraryListView=101]="_2ftLibraryListView",e[e._2ftLibraryGrid=102]="_2ftLibraryGrid",e[e.InstallSubComplete=103]="InstallSubComplete",e[e.DownloadsPage=104]="DownloadsPage",e[e.RemoteClientStartStreaming=105]="RemoteClientStartStreaming",e[e._2ftMiniModeList=106]="_2ftMiniModeList",e[e._10ft=200]="_10ft",e[e.DashAppLaunchCmdLine=300]="DashAppLaunchCmdLine",e[e.DashGameIdLaunchCmdLine=301]="DashGameIdLaunchCmdLine",e[e.RunByGameDir=302]="RunByGameDir",e[e.SubCmdRunDashGame=303]="SubCmdRunDashGame",e[e.SteamURL_Launch=400]="SteamURL_Launch",e[e.SteamURL_Run=401]="SteamURL_Run",e[e.SteamURL_JoinLobby=402]="SteamURL_JoinLobby",e[e.SteamURL_RunGame=403]="SteamURL_RunGame",e[e.SteamURL_RunGameIdOrJumplist=404]="SteamURL_RunGameIdOrJumplist",e[e.SteamURL_RunSafe=405]="SteamURL_RunSafe",e[e.TrayIcon=500]="TrayIcon",e[e.LibraryLeftColumnContextMenu=600]="LibraryLeftColumnContextMenu",e[e.LibraryLeftColumnDoubleClick=601]="LibraryLeftColumnDoubleClick",e[e.Dota2Launcher=700]="Dota2Launcher",e[e.IRunGameEngine=800]="IRunGameEngine",e[e.DRMFailureResponse=801]="DRMFailureResponse",e[e.DRMDataRequest=802]="DRMDataRequest",e[e.CloudFilePanel=803]="CloudFilePanel",e[e.DiscoveredAlreadyRunning=804]="DiscoveredAlreadyRunning",e[e.GameActionJoinParty=900]="GameActionJoinParty",e[e.AppPortraitContextMenu=1e3]="AppPortraitContextMenu"}(en||(en={})),function(e){e[e.None=0]="None",e[e.AppSessionActive=1]="AppSessionActive",e[e.UploadInProgress=2]="UploadInProgress",e[e.UploadPending=3]="UploadPending",e[e.AppSessionSuspended=4]="AppSessionSuspended"}(tn||(tn={})),function(e){e[e.DepotOnly=-2147483648]="DepotOnly",e[e.Invalid=0]="Invalid",e[e.Game=1]="Game",e[e.Application=2]="Application",e[e.Tool=4]="Tool",e[e.Demo=8]="Demo",e[e.Deprecated=16]="Deprecated",e[e.DLC=32]="DLC",e[e.Guide=64]="Guide",e[e.Driver=128]="Driver",e[e.Config=256]="Config",e[e.Hardware=512]="Hardware",e[e.Franchise=1024]="Franchise",e[e.Video=2048]="Video",e[e.Plugin=4096]="Plugin",e[e.MusicAlbum=8192]="MusicAlbum",e[e.Series=16384]="Series",e[e.Comic=32768]="Comic",e[e.Beta=65536]="Beta",e[e.Shortcut=1073741824]="Shortcut"}(nn||(nn={})),function(e){e[e.Invalid=0]="Invalid",e[e.Publisher=1]="Publisher",e[e.Developer=2]="Developer",e[e.Franchise=3]="Franchise"}(on||(on={})),function(e){e[e.None=0]="None",e[e.Partial=1]="Partial",e[e.Full=2]="Full"}(rn||(rn={})),function(e){e[e.Unknown=0]="Unknown",e[e.Unsupported=1]="Unsupported",e[e.Playable=2]="Playable",e[e.Verified=3]="Verified"}(an||(an={})),function(e){e[e.Invalid=0]="Invalid",e[e.Disabled=1]="Disabled",e[e.Unknown=2]="Unknown",e[e.Synchronized=3]="Synchronized",e[e.Checking=4]="Checking",e[e.OutOfSync=5]="OutOfSync",e[e.Uploading=6]="Uploading",e[e.Downloading=7]="Downloading",e[e.SyncFailed=8]="SyncFailed",e[e.Conflict=9]="Conflict",e[e.PendingElsewhere=10]="PendingElsewhere"}(sn||(sn={})),function(e){e[e.NotRunning=1]="NotRunning",e[e.Success=2]="Success",e[e.Failure=3]="Failure"}(ln||(ln={})),function(e){e[e.Unknown=0]="Unknown",e[e.SteamClient=1]="SteamClient",e[e.WebBrowser=2]="WebBrowser",e[e.MobileApp=3]="MobileApp"}(dn||(dn={})),function(e){e[e.Unknown=0]="Unknown",e[e.StandardPC=1]="StandardPC",e[e.Console=256]="Console",e[e.PS3=272]="PS3",e[e.Steambox=288]="Steambox",e[e.Tesla=320]="Tesla",e[e.Handheld=512]="Handheld",e[e.Phone=528]="Phone",e[e.SteamDeck=544]="SteamDeck"}(cn||(cn={})),function(e){e[e.None=0]="None",e[e.Touch=1]="Touch",e[e.Tap=2]="Tap",e[e.DoubleTap=3]="DoubleTap",e[e.ShortPress=4]="ShortPress",e[e.LongPress=5]="LongPress",e[e.LongTap=6]="LongTap",e[e.TwoFingerTap=7]="TwoFingerTap",e[e.TapCancelled=8]="TapCancelled",e[e.PinchBegin=9]="PinchBegin",e[e.PinchUpdate=10]="PinchUpdate",e[e.PinchEnd=11]="PinchEnd",e[e.FlingStart=12]="FlingStart",e[e.FlingCancelled=13]="FlingCancelled"}(un||(un={})),function(e){e[e.GroupChatMessage=1]="GroupChatMessage",e[e.FriendChatMessage=2]="FriendChatMessage",e[e.FriendPersonaState=3]="FriendPersonaState"}(pn||(pn={})),function(e){e[e.Always=0]="Always",e[e.Minimized=1]="Minimized",e[e.Never=2]="Never"}(hn||(hn={})),function(e){e[e.Invalid=0]="Invalid",e[e.BeforeFirst=3]="BeforeFirst",e[e.A=4]="A",e[e.B=5]="B",e[e.C=6]="C",e[e.D=7]="D",e[e.E=8]="E",e[e.F=9]="F",e[e.G=10]="G",e[e.H=11]="H",e[e.I=12]="I",e[e.J=13]="J",e[e.K=14]="K",e[e.L=15]="L",e[e.M=16]="M",e[e.N=17]="N",e[e.O=18]="O",e[e.P=19]="P",e[e.Q=20]="Q",e[e.R=21]="R",e[e.S=22]="S",e[e.T=23]="T",e[e.U=24]="U",e[e.V=25]="V",e[e.W=26]="W",e[e.X=27]="X",e[e.Y=28]="Y",e[e.Z=29]="Z",e[e.Key_1=30]="Key_1",e[e.Key_2=31]="Key_2",e[e.Key_3=32]="Key_3",e[e.Key_4=33]="Key_4",e[e.Key_5=34]="Key_5",e[e.Key_6=35]="Key_6",e[e.Key_7=36]="Key_7",e[e.Key_8=37]="Key_8",e[e.Key_9=38]="Key_9",e[e.Key_0=39]="Key_0",e[e.Return=40]="Return",e[e.Escape=41]="Escape",e[e.Backspace=42]="Backspace",e[e.Tab=43]="Tab",e[e.Space=44]="Space",e[e.Dash=45]="Dash",e[e.Equals=46]="Equals",e[e.LeftBracket=47]="LeftBracket",e[e.RightBracket=48]="RightBracket",e[e.Backslash=49]="Backslash",e[e.Unused1=50]="Unused1",e[e.Semicolon=51]="Semicolon",e[e.SingleQuote=52]="SingleQuote",e[e.Backtick=53]="Backtick",e[e.Comma=54]="Comma",e[e.Period=55]="Period",e[e.ForwardSlash=56]="ForwardSlash",e[e.CapsLock=57]="CapsLock",e[e.F1=58]="F1",e[e.F2=59]="F2",e[e.F3=60]="F3",e[e.F4=61]="F4",e[e.F5=62]="F5",e[e.F6=63]="F6",e[e.F7=64]="F7",e[e.F8=65]="F8",e[e.F9=66]="F9",e[e.F10=67]="F10",e[e.F11=68]="F11",e[e.F12=69]="F12",e[e.PrintScreen=70]="PrintScreen",e[e.ScrollLock=71]="ScrollLock",e[e.Break=72]="Break",e[e.Insert=73]="Insert",e[e.Home=74]="Home",e[e.PageUp=75]="PageUp",e[e.Delete=76]="Delete",e[e.End=77]="End",e[e.PageDown=78]="PageDown",e[e.RightArrow=79]="RightArrow",e[e.LeftArrow=80]="LeftArrow",e[e.DownArrow=81]="DownArrow",e[e.UpArrow=82]="UpArrow",e[e.NumLock=83]="NumLock",e[e.KeypadForwardSlash=84]="KeypadForwardSlash",e[e.KeypadAsterisk=85]="KeypadAsterisk",e[e.KeypadDash=86]="KeypadDash",e[e.KeypadPlus=87]="KeypadPlus",e[e.KeypadEnter=88]="KeypadEnter",e[e.Keypad_1=89]="Keypad_1",e[e.Keypad_2=90]="Keypad_2",e[e.Keypad_3=91]="Keypad_3",e[e.Keypad_4=92]="Keypad_4",e[e.Keypad_5=93]="Keypad_5",e[e.Keypad_6=94]="Keypad_6",e[e.Keypad_7=95]="Keypad_7",e[e.Keypad_8=96]="Keypad_8",e[e.Keypad_9=97]="Keypad_9",e[e.Keypad_0=98]="Keypad_0",e[e.KeypadPeriod=99]="KeypadPeriod",e[e.LAlt=100]="LAlt",e[e.LShift=101]="LShift",e[e.LWin=102]="LWin",e[e.LControl=103]="LControl",e[e.RAlt=104]="RAlt",e[e.RShift=105]="RShift",e[e.RWin=106]="RWin",e[e.RControl=107]="RControl",e[e.VolUp=108]="VolUp",e[e.VolDown=109]="VolDown",e[e.Mute=110]="Mute",e[e.Play=111]="Play",e[e.Stop=112]="Stop",e[e.Next=113]="Next",e[e.Prev=114]="Prev",e[e.AfterLast=115]="AfterLast"}(gn||(gn={})),function(e){e[e.Unknown=0]="Unknown",e[e.PersonalLocal=1]="PersonalLocal",e[e.PersonalCloud=2]="PersonalCloud",e[e.Community=3]="Community",e[e.Template=4]="Template",e[e.Official=5]="Official",e[e.OfficialDefault=6]="OfficialDefault"}(mn||(mn={})),function(e){e[e.ControllerPreference=0]="ControllerPreference",e[e.Off=1]="Off",e[e.On=2]="On"}(Sn||(Sn={})),function(e){e[e.Off=0]="Off",e[e.DefaultSetting=1]="DefaultSetting",e[e.On=2]="On"}(Cn||(Cn={})),function(e){e[e.None=-1]="None",e[e.Unknown=0]="Unknown",e[e.UnknownSteamController=1]="UnknownSteamController",e[e.SteamController=2]="SteamController",e[e.SteamControllerV2=3]="SteamControllerV2",e[e.SteamControllerNeptune=4]="SteamControllerNeptune",e[e.FrontPanelBoard=20]="FrontPanelBoard",e[e.Generic=30]="Generic",e[e.XBox360Controller=31]="XBox360Controller",e[e.XBoxOneController=32]="XBoxOneController",e[e.PS3Controller=33]="PS3Controller",e[e.PS4Controller=34]="PS4Controller",e[e.WiiController=35]="WiiController",e[e.AppleController=36]="AppleController",e[e.AndroidController=37]="AndroidController",e[e.SwitchProController=38]="SwitchProController",e[e.SwitchJoyConLeft=39]="SwitchJoyConLeft",e[e.SwitchJoyConRight=40]="SwitchJoyConRight",e[e.SwitchJoyConPair=41]="SwitchJoyConPair",e[e.SwitchProGenericInputOnlyController=42]="SwitchProGenericInputOnlyController",e[e.MobileTouch=43]="MobileTouch",e[e.SwitchProXInputSwitchController=44]="SwitchProXInputSwitchController",e[e.PS5Controller=45]="PS5Controller",e[e.XboxEliteController=46]="XboxEliteController",e[e.LastController=47]="LastController",e[e.PS5EdgeController=48]="PS5EdgeController",e[e.GenericKeyboard=400]="GenericKeyboard",e[e.GenericMouse=800]="GenericMouse"}(fn||(fn={})),function(e){e[e.None=0]="None",e[e.Setup=1]="Setup",e[e.WaitLicense=2]="WaitLicense",e[e.FreeLicense=3]="FreeLicense",e[e.ShowCDKey=4]="ShowCDKey",e[e.WaitAppInfo=5]="WaitAppInfo",e[e.ShowPassword=6]="ShowPassword",e[e.ShowConfig=7]="ShowConfig",e[e.ShowEULAs=8]="ShowEULAs",e[e.CreateApps=9]="CreateApps",e[e.ReadFromMedia=10]="ReadFromMedia",e[e.ShowChangeMedia=11]="ShowChangeMedia",e[e.WaitLegacyCDKeys=12]="WaitLegacyCDKeys",e[e.ShowSignup=13]="ShowSignup",e[e.Complete=14]="Complete",e[e.Failed=15]="Failed",e[e.Canceled=16]="Canceled"}(Rn||(Rn={})),function(e){e[e.Undefined=0]="Undefined",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused",e[e.Idle=3]="Idle"}(yn||(yn={})),function(e){e[e.None=0]="None",e[e.All=1]="All",e[e.Once=2]="Once",e[e.Max=3]="Max"}(Pn||(Pn={})),function(e){e[e.Invalid=0]="Invalid",e[e.DownloadComplete=1]="DownloadComplete",e[e.FriendInvite=2]="FriendInvite",e[e.FriendInGame=3]="FriendInGame",e[e.FriendOnline=4]="FriendOnline",e[e.Achievement=5]="Achievement",e[e.LowBattery=6]="LowBattery",e[e.SystemUpdate=7]="SystemUpdate",e[e.FriendMessage=8]="FriendMessage",e[e.GroupChatMessage=9]="GroupChatMessage",e[e.FriendInviteRollup=10]="FriendInviteRollup",e[e.FamilySharingDeviceAuthorizationChanged=11]="FamilySharingDeviceAuthorizationChanged",e[e.FamilySharingStopPlaying=12]="FamilySharingStopPlaying",e[e.FamilySharingLibraryAvailable=13]="FamilySharingLibraryAvailable",e[e.Screenshot=14]="Screenshot",e[e.CloudSyncFailure=15]="CloudSyncFailure",e[e.CloudSyncConflict=16]="CloudSyncConflict",e[e.IncomingVoiceChat=17]="IncomingVoiceChat",e[e.ClaimSteamDeckRewards=18]="ClaimSteamDeckRewards",e[e.GiftReceived=19]="GiftReceived",e[e.ItemAnnouncement=20]="ItemAnnouncement",e[e.HardwareSurvey=21]="HardwareSurvey",e[e.LowDiskSpace=22]="LowDiskSpace",e[e.BatteryTemperature=23]="BatteryTemperature",e[e.DockUnsupportedFirmware=24]="DockUnsupportedFirmware",e[e.PeerContentUpload=25]="PeerContentUpload",e[e.CannotReadControllerGuideButton=26]="CannotReadControllerGuideButton",e[e.Comment=27]="Comment",e[e.Wishlist=28]="Wishlist",e[e.TradeOffer=29]="TradeOffer",e[e.AsyncGame=30]="AsyncGame",e[e.General=31]="General",e[e.HelpRequest=32]="HelpRequest",e[e.OverlaySplashScreen=33]="OverlaySplashScreen",e[e.BroadcastAvailableToWatch=34]="BroadcastAvailableToWatch",e[e.TimedTrialRemaining=35]="TimedTrialRemaining",e[e.LoginRefresh=36]="LoginRefresh",e[e.MajorSale=37]="MajorSale",e[e.TimerExpired=38]="TimerExpired",e[e.ModeratorMsg=39]="ModeratorMsg",e[e.SteamInputActionSetChanged=40]="SteamInputActionSetChanged",e[e.RemoteClientConnection=41]="RemoteClientConnection",e[e.RemoteClientStartStream=42]="RemoteClientStartStream",e[e.StreamingClientConnection=43]="StreamingClientConnection",e[e.FamilyInvite=44]="FamilyInvite",e[e.PlaytimeWarning=45]="PlaytimeWarning",e[e.FamilyPurchaseRequest=46]="FamilyPurchaseRequest",e[e.FamilyPurchaseRequestResponse=47]="FamilyPurchaseRequestResponse",e[e.ParentalFeatureRequest=48]="ParentalFeatureRequest",e[e.ParentalPlaytimeRequest=49]="ParentalPlaytimeRequest",e[e.GameRecordingError=50]="GameRecordingError",e[e.ParentalFeatureResponse=51]="ParentalFeatureResponse",e[e.ParentalPlaytimeResponse=52]="ParentalPlaytimeResponse",e[e.RequestedGameAdded=53]="RequestedGameAdded",e[e.ClipDownloaded=54]="ClipDownloaded",e[e.GameRecordingStart=55]="GameRecordingStart",e[e.GameRecordingStop=56]="GameRecordingStop",e[e.GameRecordingUserMarkerAdded=57]="GameRecordingUserMarkerAdded",e[e.GameRecordingInstantClip=58]="GameRecordingInstantClip"}(_n||(_n={})),function(e){e[e.Invalid=0]="Invalid",e[e.Available=1]="Available",e[e.NeedsRestart=2]="NeedsRestart"}(vn||(vn={})),function(e){e[e.General=1]="General",e[e.LowDiskSpace=2]="LowDiskSpace"}(wn||(wn={})),function(e){e[e.Unknown=-1]="Unknown",e[e.Idle=0]="Idle",e[e.UserInteraction=1]="UserInteraction",e[e.UserInteraction_Timeout=2]="UserInteraction_Timeout",e[e.Standby=3]="Standby",e[e.Idle_Timeout=4]="Idle_Timeout"}(bn||(bn={})),function(e){e[e.Minimal=1]="Minimal",e[e.Modal=2]="Modal",e[e.ShowArrowKeys=4]="ShowArrowKeys",e[e.HideDoneKey=8]="HideDoneKey"}(An||(An={})),function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight"}(Tn||(Tn={})),function(e){e[e.Default=0]="Default",e[e.Modal=1]="Modal"}(Fn||(Fn={})),function(e){e[e.None=0]="None",e[e.AddToCart=1]="AddToCart",e[e.AddToCartAndShow=2]="AddToCartAndShow"}(Dn||(Dn={})),function(e){e[e.Invalid=0]="Invalid",e[e.Store=1]="Store",e[e.Community=2]="Community",e[e.Profile=3]="Profile",e[e.Friends=4]="Friends",e[e.News=5]="News",e[e.Trading=6]="Trading",e[e.Settings=7]="Settings",e[e.Console=8]="Console",e[e.Browser=9]="Browser",e[e.ParentalSetup=10]="ParentalSetup",e[e.Library=11]="Library",e[e.Test=12]="Test",e[e.SiteLicense=13]="SiteLicense",e[e.KioskMode=14]="KioskMode",e[e.Max=15]="Max"}(kn||(kn={})),function(e){e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e[e.Controller=2]="Controller",e[e.Max=3]="Max"}(Ln||(Ln={})),function(e){e[e.OK=1]="OK",e[e.Fail=2]="Fail",e[e.RequiresUI=3]="RequiresUI",e[e.RequiresLaunchOption=4]="RequiresLaunchOption",e[e.RequiresEULA=5]="RequiresEULA",e[e.Timeout=6]="Timeout",e[e.StreamTimeout=7]="StreamTimeout",e[e.StreamClientFail=8]="StreamClientFail",e[e.OtherGameRunning=9]="OtherGameRunning",e[e.DownloadStarted=10]="DownloadStarted",e[e.DownloadNoSpace=11]="DownloadNoSpace",e[e.DownloadFiltered=12]="DownloadFiltered",e[e.DownloadRequiresUI=13]="DownloadRequiresUI",e[e.AccessDenied=14]="AccessDenied",e[e.NetworkError=15]="NetworkError",e[e.Progress=16]="Progress",e[e.ParentalUnlockFailed=17]="ParentalUnlockFailed",e[e.ScreenLocked=18]="ScreenLocked",e[e.Unsupported=19]="Unsupported",e[e.DisabledLocal=20]="DisabledLocal",e[e.DisabledRemote=21]="DisabledRemote",e[e.Broadcasting=22]="Broadcasting",e[e.Busy=23]="Busy",e[e.DriversNotInstalled=24]="DriversNotInstalled",e[e.TransportUnavailable=25]="TransportUnavailable",e[e.Canceled=26]="Canceled",e[e.Invisible=27]="Invisible",e[e.RestrictedCountry=28]="RestrictedCountry",e[e.Unauthorized=29]="Unauthorized"}(On||(On={})),function(e){e[e.None=0]="None",e[e.Raw=1]="Raw",e[e.VP8=2]="VP8",e[e.VP9=3]="VP9",e[e.H264=4]="H264",e[e.HEVC=5]="HEVC",e[e.ORBX1=6]="ORBX1",e[e.ORBX2=7]="ORBX2",e[e.AV1=8]="AV1"}(In||(In={})),function(e){e[e.Default=0]="Default",e[e.Always=1]="Always"}(En||(En={})),function(e){e[e.Automatic=-1]="Automatic",e[e.Fast=1]="Fast",e[e.Balanced=2]="Balanced",e[e.Beautiful=3]="Beautiful"}(Mn||(Mn={})),function(e){e[e.Automatic=0]="Automatic",e[e.Disabled=1]="Disabled",e[e.OnlyMe=2]="OnlyMe",e[e.Friends=3]="Friends",e[e.Everyone=4]="Everyone"}(Nn||(Nn={})),function(e){e[e.All=0]="All",e[e.Secure=1]="Secure",e[e.NotSecure=2]="NotSecure"}(xn||(xn={})),function(e){e[e.All=0]="All",e[e.LessThan50=50]="LessThan50",e[e.LessThan100=100]="LessThan100",e[e.LessThan150=150]="LessThan150",e[e.LessThan250=250]="LessThan250"}(Un||(Un={})),function(e){e[e.PingFailed=-3]="PingFailed",e[e.Connecting=-2]="Connecting",e[e.Pinging=-1]="Pinging",e[e.None=0]="None",e[e.VACBanned=1]="VACBanned",e[e.ServerFull=2]="ServerFull",e[e.ModNotInstalled=3]="ModNotInstalled",e[e.AppNotFound=4]="AppNotFound",e[e.NotInitialized=5]="NotInitialized"}(Gn||(Gn={})),function(e){e[e.Invalid=-1]="Invalid",e[e.Private=2]="Private",e[e.FriendsOnly=4]="FriendsOnly",e[e.Public=8]="Public",e[e.Unlisted=16]="Unlisted"}(Wn||(Wn={})),function(e){e[e.EmailUnverified=0]="EmailUnverified",e[e.Protected=1]="Protected",e[e.Disabled=2]="Disabled",e[e.Offline=3]="Offline",e[e.NotEnabled=4]="NotEnabled"}(Bn||(Bn={})),function(e){e[e.None=-1]="None",e[e.English=0]="English",e[e.German=1]="German",e[e.French=2]="French",e[e.Italian=3]="Italian",e[e.Korean=4]="Korean",e[e.Spanish=5]="Spanish",e[e.SimplifiedChinese=6]="SimplifiedChinese",e[e.TraditionalChinese=7]="TraditionalChinese",e[e.Russian=8]="Russian",e[e.Thai=9]="Thai",e[e.Japanese=10]="Japanese",e[e.Portuguese=11]="Portuguese",e[e.Polish=12]="Polish",e[e.Danish=13]="Danish",e[e.Dutch=14]="Dutch",e[e.Finnish=15]="Finnish",e[e.Norwegian=16]="Norwegian",e[e.Swedish=17]="Swedish",e[e.Hungarian=18]="Hungarian",e[e.Czech=19]="Czech",e[e.Romanian=20]="Romanian",e[e.Turkish=21]="Turkish",e[e.Brazilian=22]="Brazilian",e[e.Bulgarian=23]="Bulgarian",e[e.Greek=24]="Greek",e[e.Arabic=25]="Arabic",e[e.Ukrainian=26]="Ukrainian",e[e.LatamSpanish=27]="LatamSpanish",e[e.Vietnamese=28]="Vietnamese",e[e.SteamChina_SChinese=29]="SteamChina_SChinese",e[e.Max=30]="Max"}(jn||(jn={})),function(e){e[e.None=0]="None",e[e.NoneChosen=1]="NoneChosen",e[e.NoneChosenNonAdmin=2]="NoneChosenNonAdmin",e[e.InBeta=3]="InBeta",e[e.InBetaNonAdmin=4]="InBetaNonAdmin"}(Kn||(Kn={})),function(e){e[e.BestQuality=0]="BestQuality",e[e.BestPerformance=1]="BestPerformance"}(Hn||(Hn={})),function(e){e[e.Disabled=0]="Disabled",e[e.FriendsApprove=1]="FriendsApprove",e[e.FriendsAllowed=2]="FriendsAllowed",e[e.Public=3]="Public",e[e.Subscribers=4]="Subscribers"}(Xn||(Xn={})),function(e){e[e.Default=0]="Default",e[e.H264=1]="H264",e[e.H265=2]="H265"}(Jn||(Jn={})),function(e){e[e.Game=0]="Game",e[e.System=1]="System",e[e.Select=2]="Select"}(Vn||(Vn={})),function(e){e[e.Native=0]="Native",e[e.FileSize=1]="FileSize",e[e.Advanced=2]="Advanced"}(Yn||(Yn={})),function(e){e[e.Never=0]="Never",e[e.Always=1]="Always",e[e.Manual=2]="Manual"}(qn||(qn={})),function(e){e[e.None=0]="None",e[e.Heatmap=1]="Heatmap",e[e.Analysis=2]="Analysis",e[e.HeatmapExtended=3]="HeatmapExtended",e[e.HeatmapClassic=4]="HeatmapClassic"}($n||($n={})),function(e){e[e.Unknown=0]="Unknown",e[e.Disconnected=1]="Disconnected",e[e.Connected=2]="Connected",e[e.ConnectedSlow=3]="ConnectedSlow"}(zn||(zn={})),function(e){e[e.Unknown=0]="Unknown",e[e.Discharging=1]="Discharging",e[e.Charging=2]="Charging",e[e.Full=3]="Full"}(Qn||(Qn={})),function(e){e[e.Invalid=0]="Invalid",e[e.NotRunning=1]="NotRunning",e[e.Starting=2]="Starting",e[e.Testing=3]="Testing",e[e.Rescuing=4]="Rescuing",e[e.Formatting=5]="Formatting",e[e.Finalizing=6]="Finalizing"}(Zn||(Zn={})),function(e){e[e.Web=-700]="Web",e[e.Ios=-600]="Ios",e[e.Android=-500]="Android",e[e.Android6=-499]="Android6",e[e.Android7=-498]="Android7",e[e.Android8=-497]="Android8",e[e.Android9=-496]="Android9",e[e.Ps3os=-300]="Ps3os",e[e.Linux=-203]="Linux",e[e.Linux22=-202]="Linux22",e[e.Linux24=-201]="Linux24",e[e.Linux26=-200]="Linux26",e[e.Linux32=-199]="Linux32",e[e.Linux35=-198]="Linux35",e[e.Linux36=-197]="Linux36",e[e.Linux310=-196]="Linux310",e[e.Linux316=-195]="Linux316",e[e.Linux318=-194]="Linux318",e[e.Linux3x=-193]="Linux3x",e[e.Linux4x=-192]="Linux4x",e[e.Linux41=-191]="Linux41",e[e.Linux44=-190]="Linux44",e[e.Linux49=-189]="Linux49",e[e.Linux414=-188]="Linux414",e[e.Linux419=-187]="Linux419",e[e.Linux5x=-186]="Linux5x",e[e.Linux54=-185]="Linux54",e[e.Linux6x=-184]="Linux6x",e[e.Linux7x=-183]="Linux7x",e[e.Linux510=-182]="Linux510",e[e.Macos=-102]="Macos",e[e.Macos104=-101]="Macos104",e[e.Macos105=-100]="Macos105",e[e.Macos1058=-99]="Macos1058",e[e.Macos106_unused1=-98]="Macos106_unused1",e[e.Macos106_unused2=-97]="Macos106_unused2",e[e.Macos106_unused3=-96]="Macos106_unused3",e[e.Macos106=-95]="Macos106",e[e.Macos1063=-94]="Macos1063",e[e.Macos1064_slgu=-93]="Macos1064_slgu",e[e.Macos1067=-92]="Macos1067",e[e.Macos1067_unused=-91]="Macos1067_unused",e[e.Macos107=-90]="Macos107",e[e.Macos108=-89]="Macos108",e[e.Macos109=-88]="Macos109",e[e.Macos1010=-87]="Macos1010",e[e.Macos1011=-86]="Macos1011",e[e.Macos1012=-85]="Macos1012",e[e.Macos1013=-84]="Macos1013",e[e.Macos1014=-83]="Macos1014",e[e.Macos1015=-82]="Macos1015",e[e.Macos1016=-81]="Macos1016",e[e.Macos11=-80]="Macos11",e[e.Macos111=-79]="Macos111",e[e.Macos1017=-78]="Macos1017",e[e.Macos12=-77]="Macos12",e[e.Macos1018=-76]="Macos1018",e[e.Macos13=-75]="Macos13",e[e.Macos1019=-74]="Macos1019",e[e.Macos14=-73]="Macos14",e[e.Macos1020=-72]="Macos1020",e[e.Macos15=-71]="Macos15",e[e.Unknown=-1]="Unknown",e[e.Windows=0]="Windows",e[e.Win311=1]="Win311",e[e.Win95=2]="Win95",e[e.Win98=3]="Win98",e[e.WinME=4]="WinME",e[e.WinNT=5]="WinNT",e[e.Win200=6]="Win200",e[e.WinXP=7]="WinXP",e[e.Win2003=8]="Win2003",e[e.WinVista=9]="WinVista",e[e.Win7=10]="Win7",e[e.Win2008=11]="Win2008",e[e.Win2012=12]="Win2012",e[e.Win8=13]="Win8",e[e.Win81=14]="Win81",e[e.Win2012R2=15]="Win2012R2",e[e.Win10=16]="Win10",e[e.Win2016=17]="Win2016",e[e.Win2019=18]="Win2019",e[e.Win2022=19]="Win2022",e[e.Win11=20]="Win11"}(eo||(eo={})),function(e){e[e.MainGamepadUI=0]="MainGamepadUI",e[e.OverlayGamepadUI=1]="OverlayGamepadUI",e[e.Keyboard=2]="Keyboard",e[e.ControllerConfigurator=3]="ControllerConfigurator",e[e.VR=4]="VR",e[e.MainDesktopUI=5]="MainDesktopUI",e[e.DesktopLogin=6]="DesktopLogin",e[e.OverlayDesktopUI=7]="OverlayDesktopUI",e[e.SteamChinaReviewLauncher=8]="SteamChinaReviewLauncher"}(to||(to={})),function(e){e[e.Unknown=0]="Unknown",e[e.Release=1]="Release",e[e.ReleaseCandidate=2]="ReleaseCandidate",e[e.Beta=3]="Beta",e[e.BetaCandidate=4]="BetaCandidate",e[e.Preview=5]="Preview",e[e.PreviewCandidate=6]="PreviewCandidate",e[e.Main=7]="Main",e[e.Staging=8]="Staging"}(no||(no={})),function(e){e[e.Invalid=0]="Invalid",e[e.UpToDate=2]="UpToDate",e[e.Checking=3]="Checking",e[e.Available=4]="Available",e[e.Applying=5]="Applying",e[e.ClientRestartPending=6]="ClientRestartPending",e[e.SystemRestartPending=7]="SystemRestartPending",e[e.RollBack=8]="RollBack"}(oo||(oo={})),function(e){e[e.Invalid=0]="Invalid",e[e.Client=1]="Client",e[e.OS=2]="OS",e[e.BIOS=3]="BIOS",e[e.Aggregated=4]="Aggregated",e[e.Test1=5]="Test1",e[e.Test2=6]="Test2",e[e.Dummy=7]="Dummy"}(io||(io={})),function(e){e[e.None=0]="None",e[e.WelcomeDialog=1]="WelcomeDialog",e[e.WaitingForCreateUser=2]="WaitingForCreateUser",e[e.WaitingForCredentials=3]="WaitingForCredentials",e[e.WaitingForNetwork=4]="WaitingForNetwork",e[e.WaitingForServerResponse=5]="WaitingForServerResponse",e[e.WaitingForLibraryReady=6]="WaitingForLibraryReady",e[e.Success=7]="Success",e[e.Quit=8]="Quit"}(ro||(ro={})),function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.WaitForGames=2]="WaitForGames",e[e.WaitForCloud=3]="WaitForCloud",e[e.FinishingDownload=4]="FinishingDownload",e[e.WaitForDownload=5]="WaitForDownload",e[e.WaitForServiceApps=6]="WaitForServiceApps",e[e.WaitForLogOff=7]="WaitForLogOff",e[e.Done=8]="Done"}(ao||(ao={})),function(e){e[e.Invalid=0]="Invalid",e[e.Complete=1]="Complete",e[e.CloudSync=2]="CloudSync",e[e.LoggingIn=3]="LoggingIn",e[e.WaitingForApp=4]="WaitingForApp",e[e.Working=5]="Working"}(so||(so={})),function(e){e[e.Invalid=0]="Invalid",e[e.Active=1]="Active",e[e.Idle=2]="Idle"}(lo||(lo={})),function(e){e[e.Invalid=0]="Invalid",e[e.AndForceOS=1]="AndForceOS",e[e.WithoutForcingOS=2]="WithoutForcingOS"}(co||(co={})),function(e){e[e.OK=1]="OK",e[e.Fail=2]="Fail",e[e.NoConnection=3]="NoConnection",e[e.InvalidPassword=5]="InvalidPassword",e[e.LoggedInElsewhere=6]="LoggedInElsewhere",e[e.InvalidProtocolVer=7]="InvalidProtocolVer",e[e.InvalidParam=8]="InvalidParam",e[e.FileNotFound=9]="FileNotFound",e[e.Busy=10]="Busy",e[e.InvalidState=11]="InvalidState",e[e.InvalidName=12]="InvalidName",e[e.InvalidEmail=13]="InvalidEmail",e[e.DuplicateName=14]="DuplicateName",e[e.AccessDenied=15]="AccessDenied",e[e.Timeout=16]="Timeout",e[e.Banned=17]="Banned",e[e.AccountNotFound=18]="AccountNotFound",e[e.InvalidSteamID=19]="InvalidSteamID",e[e.ServiceUnavailable=20]="ServiceUnavailable",e[e.NotLoggedOn=21]="NotLoggedOn",e[e.Pending=22]="Pending",e[e.EncryptionFailure=23]="EncryptionFailure",e[e.InsufficientPrivilege=24]="InsufficientPrivilege",e[e.LimitExceeded=25]="LimitExceeded",e[e.Revoked=26]="Revoked",e[e.Expired=27]="Expired",e[e.AlreadyRedeemed=28]="AlreadyRedeemed",e[e.DuplicateRequest=29]="DuplicateRequest",e[e.AlreadyOwned=30]="AlreadyOwned",e[e.IPNotFound=31]="IPNotFound",e[e.PersistFailed=32]="PersistFailed",e[e.LockingFailed=33]="LockingFailed",e[e.LogonSessionReplaced=34]="LogonSessionReplaced",e[e.ConnectFailed=35]="ConnectFailed",e[e.HandshakeFailed=36]="HandshakeFailed",e[e.IOFailure=37]="IOFailure",e[e.RemoteDisconnect=38]="RemoteDisconnect",e[e.ShoppingCartNotFound=39]="ShoppingCartNotFound",e[e.Blocked=40]="Blocked",e[e.Ignored=41]="Ignored",e[e.NoMatch=42]="NoMatch",e[e.AccountDisabled=43]="AccountDisabled",e[e.ServiceReadOnly=44]="ServiceReadOnly",e[e.AccountNotFeatured=45]="AccountNotFeatured",e[e.AdministratorOK=46]="AdministratorOK",e[e.ContentVersion=47]="ContentVersion",e[e.TryAnotherCM=48]="TryAnotherCM",e[e.PasswordRequiredToKickSession=49]="PasswordRequiredToKickSession",e[e.AlreadyLoggedInElsewhere=50]="AlreadyLoggedInElsewhere",e[e.Suspended=51]="Suspended",e[e.Cancelled=52]="Cancelled",e[e.DataCorruption=53]="DataCorruption",e[e.DiskFull=54]="DiskFull",e[e.RemoteCallFailed=55]="RemoteCallFailed",e[e.PasswordUnset=56]="PasswordUnset",e[e.ExternalAccountUnlinked=57]="ExternalAccountUnlinked",e[e.PSNTicketInvalid=58]="PSNTicketInvalid",e[e.ExternalAccountAlreadyLinked=59]="ExternalAccountAlreadyLinked",e[e.RemoteFileConflict=60]="RemoteFileConflict",e[e.IllegalPassword=61]="IllegalPassword",e[e.SameAsPreviousValue=62]="SameAsPreviousValue",e[e.AccountLogonDenied=63]="AccountLogonDenied",e[e.CannotUseOldPassword=64]="CannotUseOldPassword",e[e.InvalidLoginAuthCode=65]="InvalidLoginAuthCode",e[e.AccountLogonDeniedNoMail=66]="AccountLogonDeniedNoMail",e[e.HardwareNotCapableOfIPT=67]="HardwareNotCapableOfIPT",e[e.IPTInitError=68]="IPTInitError",e[e.ParentalControlRestricted=69]="ParentalControlRestricted",e[e.FacebookQueryError=70]="FacebookQueryError",e[e.ExpiredLoginAuthCode=71]="ExpiredLoginAuthCode",e[e.IPLoginRestrictionFailed=72]="IPLoginRestrictionFailed",e[e.AccountLockedDown=73]="AccountLockedDown",e[e.AccountLogonDeniedVerifiedEmailRequired=74]="AccountLogonDeniedVerifiedEmailRequired",e[e.NoMatchingURL=75]="NoMatchingURL",e[e.BadResponse=76]="BadResponse",e[e.RequirePasswordReEntry=77]="RequirePasswordReEntry",e[e.ValueOutOfRange=78]="ValueOutOfRange",e[e.UnexpectedError=79]="UnexpectedError",e[e.Disabled=80]="Disabled",e[e.InvalidCEGSubmission=81]="InvalidCEGSubmission",e[e.RestrictedDevice=82]="RestrictedDevice",e[e.RegionLocked=83]="RegionLocked",e[e.RateLimitExceeded=84]="RateLimitExceeded",e[e.AccountLoginDeniedNeedTwoFactor=85]="AccountLoginDeniedNeedTwoFactor",e[e.ItemDeleted=86]="ItemDeleted",e[e.AccountLoginDeniedThrottle=87]="AccountLoginDeniedThrottle",e[e.TwoFactorCodeMismatch=88]="TwoFactorCodeMismatch",e[e.TwoFactorActivationCodeMismatch=89]="TwoFactorActivationCodeMismatch",e[e.AccountAssociatedToMultiplePartners=90]="AccountAssociatedToMultiplePartners",e[e.NotModified=91]="NotModified",e[e.NoMobileDevice=92]="NoMobileDevice",e[e.TimeNotSynced=93]="TimeNotSynced",e[e.SmsCodeFailed=94]="SmsCodeFailed",e[e.AccountLimitExceeded=95]="AccountLimitExceeded",e[e.AccountActivityLimitExceeded=96]="AccountActivityLimitExceeded",e[e.PhoneActivityLimitExceeded=97]="PhoneActivityLimitExceeded",e[e.RefundToWallet=98]="RefundToWallet",e[e.EmailSendFailure=99]="EmailSendFailure",e[e.NotSettled=100]="NotSettled",e[e.NeedCaptcha=101]="NeedCaptcha",e[e.GSLTDenied=102]="GSLTDenied",e[e.GSOwnerDenied=103]="GSOwnerDenied",e[e.InvalidItemType=104]="InvalidItemType",e[e.IPBanned=105]="IPBanned",e[e.GSLTExpired=106]="GSLTExpired",e[e.InsufficientFunds=107]="InsufficientFunds",e[e.TooManyPending=108]="TooManyPending",e[e.NoSiteLicensesFound=109]="NoSiteLicensesFound",e[e.WGNetworkSendExceeded=110]="WGNetworkSendExceeded",e[e.AccountNotFriends=111]="AccountNotFriends",e[e.LimitedUserAccount=112]="LimitedUserAccount"}(uo||(uo={})),function(e){e[e.OffScreen=0]="OffScreen",e[e.OpenVROverlay=1]="OpenVROverlay",e[e.OpenVROverlay_Dashboard=2]="OpenVROverlay_Dashboard",e[e.DirectHWND=3]="DirectHWND",e[e.DirectHWND_Borderless=4]="DirectHWND_Borderless",e[e.DirectHWND_Hidden=5]="DirectHWND_Hidden",e[e.ChildHWNDNative=6]="ChildHWNDNative",e[e.Offscreen_SteamUI=12]="Offscreen_SteamUI",e[e.OpenVROverlay_Subview=13]="OpenVROverlay_Subview"}(po||(po={})),function(e){e[e.Unknown=0]="Unknown",e[e.Global=1]="Global",e[e.China=2]="China"}(ho||(ho={})),function(e){e[e.Hidden=0]="Hidden",e[e.Notification=1]="Notification",e[e.Overlay=2]="Overlay",e[e.Opaque=3]="Opaque",e[e.OverlayKeyboard=4]="OverlayKeyboard"}(go||(go={})),function(e){e[e.Unknown=-1]="Unknown",e[e.GamePad=4]="GamePad",e[e.Desktop=7]="Desktop"}(mo||(mo={}));const So=undefined;const Co=new class{constructor(){this.devTools=window.MILLENNIUM_CHROME_DEV_TOOLS_PROTOCOL_DO_NOT_USE_OR_OVERRIDE_ONMESSAGE,this.currentId=0,this.pendingRequests=new Map,this.devTools.onmessage=e=>{this.handleMessage(e)}}handleMessage(e){const t="string"==typeof e?JSON.parse(e):e;if(void 0!==t.id&&this.pendingRequests.has(t.id)){const e=this.pendingRequests.get(t.id);if(this.pendingRequests.delete(t.id),e){const{resolve:n,reject:o}=e;t.error?o(new Error(`CDP Error: ${t.error.message} (${t.error.code})`)):n(t.result)}}}send(e,t={},n){return new Promise((o,i)=>{const r=this.currentId++;this.pendingRequests.set(r,{resolve:o,reject:i});const a={id:r,method:e};t&&Object.keys(t).length>0&&(a.params=t),n&&(a.sessionId=n);try{this.devTools.send(JSON.stringify(a))}catch(e){this.pendingRequests.delete(r),i(e)}})}sendNoResponse(e,t={}){const n={id:this.currentId++,method:e};t&&Object.keys(t).length>0&&(n.params=t),this.devTools.send(JSON.stringify(n))}},fo=window.Millennium;var Ro,yo;!function(e){e[e.None=0]="None",e[e.Main=1]="Main",e[e.QuickAccess=2]="QuickAccess"}(Ro||(Ro={})),function(e){e[e.Notifications=0]="Notifications",e[e.RemotePlayTogetherControls=1]="RemotePlayTogetherControls",e[e.VoiceChat=2]="VoiceChat",e[e.Friends=3]="Friends",e[e.Settings=4]="Settings",e[e.Perf=5]="Perf",e[e.Help=6]="Help",e[e.Music=7]="Music",e[e.Decky=999]="Decky"}(yo||(yo={}));const Po=n(e=>e.Navigate&&e.NavigationManager);let _o={};const vo=new l("Navigation");try{function qo(e,t){return(...n)=>{let o;try{o=window.SteamUIStore.GetFocusedWindowInstance()}catch(e){vo.warn("Navigation interface failed to call GetFocusedWindowInstance",e)}if(o||(vo.warn("Navigation interface could not find any focused window. Falling back to Main Window Instance"),o=Po.WindowStore?.GamepadUIMainWindowInstance||Po?.WindowStore?.SteamUIWindows?.find(e=>"SP Desktop_uid0"===e?.BrowserWindow?.name)),o)try{(t&&t(o)||o)[e](...n)}catch(e){vo.error("Navigation handler failed",e)}else vo.error("Navigation interface could not find a window to navigate")}}const $o={Navigate:qo("Navigate"),NavigateBack:qo("NavigateBack"),NavigateToAppProperties:qo("AppProperties",e=>e.Navigator),NavigateToExternalWeb:qo("ExternalWeb",e=>e.Navigator),NavigateToInvites:qo("Invites",e=>e.Navigator),NavigateToChat:qo("Chat",e=>e.Navigator),NavigateToLibraryTab:qo("LibraryTab",e=>e.Navigator),NavigateToLayoutPreview:Po.NavigateToLayoutPreview?.bind(Po),NavigateToSteamWeb:qo("NavigateToSteamWeb"),OpenSideMenu:qo("OpenSideMenu",e=>e.MenuStore),OpenQuickAccessMenu:qo("OpenQuickAccessMenu",e=>e.MenuStore),OpenMainMenu:qo("OpenMainMenu",e=>e.MenuStore),CloseSideMenus:qo("CloseSideMenus",e=>e.MenuStore),OpenPowerMenu:Po.OpenPowerMenu?.bind(Po)};Object.assign(_o,$o)}catch(zo){vo.error("Error initializing Navigation interface",zo)}const wo=/http:\/\/localhost:1337\/plugins\/([^\/]*)\//,bo=/decky:\/\/decky\/plugin\/([^\/]*)\//,Ao=/decky:\/\/decky\/legacy_plugin\/([^\/]*)\/index.js/;function To(e){return function(e){const t=e?.match(wo);if(t)return[decodeURIComponent(t[1]),!0,!1];const n=e?.match(bo);if(n)return[decodeURIComponent(n[1]),!0,!1];const o=e?.match(Ao);if(o)return[decodeURIComponent(o[1]),!0,!1];if(e?.includes("http://localhost/"))return["the Millennium frontend",!1,!1];return["Steam",!1,!0]}(JSON.stringify(e?.message))}class Fo{constructor(){this._components=new Map([[mo.GamePad,new Map],[mo.Desktop,new Map]]),this.eventBus=new EventTarget}publicState(){return{components:this._components}}addComponent(e,t,n){const o=this._components.get(n);if(!o)throw new Error(`UI mode ${n} not supported.`);o.set(e,t),this.notifyUpdate()}removeComponent(e,t){const n=this._components.get(t);if(!n)throw new Error(`UI mode ${t} not supported.`);n.delete(e),this.notifyUpdate()}notifyUpdate(){this.eventBus.dispatchEvent(new Event("update"))}}const Do=SP_REACT.createContext(null),ko=({children:e,millenniumGlobalComponentsState:t})=>{const[n,o]=SP_REACT.useState({...t.publicState()});SP_REACT.useEffect(()=>{function e(){o({...t.publicState()})}return t.eventBus.addEventListener("update",e),()=>t.eventBus.removeEventListener("update",e)},[]);const i=t.addComponent.bind(t),r=t.removeComponent.bind(t);return SP_JSX_FACTORY.jsx(Do.Provider,{value:{...n,addComponent:i,removeComponent:r},children:e})};class Lo{constructor(){this._routes=new Map,this._routePatches=new Map([[mo.GamePad,new Map],[mo.Desktop,new Map]]),this.eventBus=new EventTarget}publicState(){return{routes:this._routes,routePatches:this._routePatches}}addRoute(e,t,n={}){this._routes.set(e,{props:n,component:t}),this.notifyUpdate()}addPatch(e,t,n){const o=this._routePatches.get(n);if(!o)throw new Error(`UI mode ${n} not supported.`);let i=o.get(e);return i||(i=new Set,o.set(e,i)),i.add(t),this.notifyUpdate(),t}removePatch(e,t,n){const o=this._routePatches.get(n);if(!o)throw new Error(`UI mode ${n} not supported.`);const i=o.get(e);i?.delete(t),0==i?.size&&o.delete(e),this.notifyUpdate()}removeRoute(e){this._routes.delete(e),this.notifyUpdate()}notifyUpdate(){this.eventBus.dispatchEvent(new Event("update"))}}const Oo=SP_REACT.createContext(null),Io=()=>SP_REACT.useContext(Oo),Eo=({children:e,millenniumRouterState:t})=>{const[n,o]=SP_REACT.useState({...t.publicState()});SP_REACT.useEffect(()=>{function e(){o({...t.publicState()})}return t.eventBus.addEventListener("update",e),()=>t.eventBus.removeEventListener("update",e)},[]);const i=t.addRoute.bind(t),r=t.addPatch.bind(t),a=t.removePatch.bind(t),s=t.removeRoute.bind(t);return SP_JSX_FACTORY.jsx(Oo.Provider,{value:{...n,addRoute:i,addPatch:r,removePatch:a,removeRoute:s},children:e})},Mo=Symbol("is patched");const No=new l("ToastRenderer");var xo;!function(e){e[e.GAMEPADUI_POPUP=1]="GAMEPADUI_POPUP",e[e.GAMEPADUI_QAM=3]="GAMEPADUI_QAM"}(xo||(xo={}));const Uo=h(e=>e.ShortTemplate)||{},Go=SP_REACT.memo(({toast:e})=>SP_JSX_FACTORY.jsxs("div",{style:{"--toast-duration":`${e.duration}ms`},onClick:e.onClick,className:Ie(Uo.ShortTemplate,e.className||"","MillenniumGamepadUIPopupToast"),children:[e.logo&&SP_JSX_FACTORY.jsx("div",{className:Uo.StandardLogoDimensions,children:e.logo}),SP_JSX_FACTORY.jsxs("div",{className:Ie(Uo.Content,e.contentClassName||""),children:[SP_JSX_FACTORY.jsxs("div",{className:Uo.Header,children:[e.icon&&SP_JSX_FACTORY.jsx("div",{className:Uo.Icon,children:e.icon}),SP_JSX_FACTORY.jsx("div",{className:Uo.Title,children:e.title})]}),SP_JSX_FACTORY.jsx("div",{className:Uo.Body,children:e.body})]})]})),Wo=SP_REACT.memo(({toast:e,newIndicator:t})=>SP_JSX_FACTORY.jsx(qe,{onActivate:()=>{e.onClick?.(),_o.CloseSideMenus()},className:Ie(Uo.StandardTemplateContainer,e.className||"","MillenniumGamepadUIQAMToast"),children:SP_JSX_FACTORY.jsxs("div",{className:Uo.StandardTemplate,children:[e.logo&&SP_JSX_FACTORY.jsx("div",{className:Uo.StandardLogoDimensions,children:e.logo}),SP_JSX_FACTORY.jsxs("div",{className:Ie(Uo.Content,e.contentClassName||""),children:[SP_JSX_FACTORY.jsxs("div",{className:Uo.Header,children:[e.icon&&SP_JSX_FACTORY.jsx("div",{className:Uo.Icon,children:e.icon}),e.title&&SP_JSX_FACTORY.jsx("div",{className:Uo.Title,children:e.title}),e.timestamp&&SP_JSX_FACTORY.jsx("div",{className:Uo.Timestamp,children:e.timestamp.toLocaleTimeString(void 0,{timeStyle:"short"})})]}),e.body&&SP_JSX_FACTORY.jsx("div",{className:Uo.StandardNotificationDescription,children:e.body}),e.subtext&&SP_JSX_FACTORY.jsx("div",{className:Uo.StandardNotificationSubText,children:e.subtext})]}),t&&SP_JSX_FACTORY.jsx("div",{className:Uo.NewIndicator,children:SP_JSX_FACTORY.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",children:SP_JSX_FACTORY.jsx("circle",{fill:"currentColor",cx:"25",cy:"25",r:"25"})})})]})})),Bo=SP_REACT.memo(({toast:e,location:t,newIndicator:n})=>{switch(t){default:return No.warn(`Toast UI not implemented for location ${t}! Falling back to GamepadUIQAMToast.`),SP_JSX_FACTORY.jsx(Wo,{toast:e,newIndicator:!1});case xo.GAMEPADUI_POPUP:return SP_JSX_FACTORY.jsx(Go,{toast:e});case xo.GAMEPADUI_QAM:return SP_JSX_FACTORY.jsx(Wo,{toast:e,newIndicator:n})}});var jo;!function(e){e[e.New=0]="New",e[e.Update=1]="Update",e[e.Remove=2]="Remove"}(jo||(jo={}));const Ko=new class extends l{constructor(){super("ErrorBoundaryHook"),this.doNotReportErrors=!1,this.disableReportingTimer=0,this.log("Initialized"),window.__ERRORBOUNDARY_HOOK_INSTANCE?.deinit?.(),window.__ERRORBOUNDARY_HOOK_INSTANCE=this;const e=/^\(\)=>\(.\|\|.\(new .\),.\)$/,t=n(t=>"function"==typeof t&&t?.toString&&e.test(t.toString()));if(!t)return void this.error("could not find initErrorReportingStore! error boundary hook disabled!");const o=t(),i=/    at .+\.componentDidCatch\..+\.callback /;this.errorCheckPatch=O(Object.getPrototypeOf(o),"BIsBlacklisted",e=>{const[t,n,o]=To(e[0]);return this.debug("Caught an error",e,{errorSource:t,wasPlugin:n,shouldReport:o,skipAllReporting:this.doNotReportErrors||this.disableReportingTimer}),o||this.temporarilyDisableReporting(),e[0]?.message?.[3]?.[0]&&"    at console.error "==e[0]?.message?.[1]?.[0]&&i.test(e[0].message[3][0])?(this.debug("ignoring early report caused by react#15069"),!0):!(!this.doNotReportErrors&&!this.disableReportingTimer)||(!o||D)}),Je?(this.errorBoundaryPatch=O(Je.prototype,"render",function(){if(this.state._millenniumForceRerender){console.debug("Forcing rerender");const e={...this.state,_millenniumForceRerender:null};return void this.setState(e)}return D}),Je.prototype._millenniumForceRerender=function(){this.setState({...this.state,_millenniumForceRerender:!0})}):this.error("@steambrew/client could not find ErrorBoundary, skipping patch")}temporarilyDisableReporting(){this.debug("Reporting disabled for 30s due to a non-steam error."),this.disableReportingTimer&&clearTimeout(this.disableReportingTimer),this.disableReportingTimer=window.setTimeout(()=>{this.debug("Reporting re-enabled after 30s timeout."),this.disableReportingTimer=0},3e4)}deinit(){this.errorCheckPatch?.unpatch(),this.errorBoundaryPatch?.unpatch()}},Ho=new class extends l{constructor(){super("RouterHook"),this.routerState=new Lo,this.globalComponentsState=new Fo,this.renderedComponents=new Map([[mo.GamePad,[]],[mo.Desktop,[]]]),this.MillenniumGamepadRouterWrapper=this.gamepadRouterWrapper.bind(this),this.MillenniumDesktopRouterWrapper=this.desktopRouterWrapper.bind(this),this.MillenniumGlobalComponentsWrapper=this.globalComponentsWrapper.bind(this),this.toReplace=new Map,this.patchedModes=new Set,this.setupListeners=[],this.isSetupEmitted=!1,this.log("Initialized"),window.__ROUTER_HOOK_INSTANCE?.deinit?.(),window.__ROUTER_HOOK_INSTANCE=this;const e=i(e=>"router-backstack"==e,20);e?(this.Route=Object.values(e).find(e=>"function"==typeof e&&/routePath:.\.match\?\.path./.test(e.toString()))||Object.values(e).find(e=>"function"==typeof e&&/routePath:null===\(.=.\.match\)/.test(e.toString())),this.Route||this.error("Failed to find Route component")):this.error("Failed to find router stack module");const t=i(e=>"Router"==e?.displayName);t?(this.DesktopRoute=Object.values(t).find(e=>"function"==typeof e&&e?.prototype?.render?.toString()?.includes("props.computedMatch")&&e?.prototype?.render?.toString()?.includes(".Children.count(")),this.DesktopRoute||this.error("Failed to find DesktopRoute component")):this.error("Failed to find router module, desktop routes will not work"),this.modeChangeRegistration=SteamClient.UI.RegisterForUIModeChanged(e=>{if(this.debug(`UI mode changed to ${e}`),!this.patchedModes.has(e))switch(this.patchedModes.add(e),this.debug(`Patching router for UI mode ${e}`),e){case mo.GamePad:this.debug("Patching gamepad router"),this.patchGamepadRouter();break;case mo.Desktop:this.debug("Patching desktop router"),this.patchDesktopRouter();break;default:this.warn(`Router patch not implemented for UI mode ${e}`)}})}async patchGamepadRouter(){const e=j(document.getElementById("root")),t=()=>X(e,e=>void 0===e?.pendingProps?.loggedIn&&e?.type?.toString().includes("Settings.Root()"));await this.waitForUnlock();let n=t();for(;!n;)await Ee(1),await this.waitForUnlock(),n=t();if(n){this.gamepadRouterPatch=L(n.elementType,"type",this.handleGamepadRouterRender.bind(this)),n.type=n.elementType.type,n?.alternate&&(n.alternate.type=n.type);const e=H(n,e=>e?.stateNode?._millenniumForceRerender,{walkable:["return"]});e?.stateNode?._millenniumForceRerender?.()}}async patchDesktopRouter(){const e=j(document.getElementById("root")),t=()=>X(e,e=>{const t=e?.elementType?.toString?.();return t&&t?.includes(".IsMainDesktopWindow")&&t?.includes(".IN_STEAMUI_SHARED_CONTEXT")&&t?.includes(".ContentFrame")&&t?.includes(".Console()")});let n=t();for(;!n;)await Ee(1),n=t();if(n){console.log("Found desktop router node",n);const e=z(n.elementType);this.desktopRouterPatch=L(e,"component",this.handleDesktopRouterRender.bind(this));const t=H(n,e=>e?.stateNode?._millenniumForceRerender,{walkable:["return"]});window.MILLENNIUM_STEAM_FORCE_RERENDER=()=>t?.stateNode?._millenniumForceRerender?.(),t?.stateNode?._millenniumForceRerender?.()}}async emitRouterSetup(){this.debug("Emitting router setup"),this.setupListeners.length>0?(this.setupListeners.forEach(e=>e()),this.setupListeners=[]):this.debug("No router setup listeners registered"),this.isSetupEmitted=!0}async registerForRouterSetup(e){this.isSetupEmitted?e():(this.setupListeners.push(e),this.debug("Registered router setup listener"))}async waitForUnlock(){try{for(;window?.securitystore?.IsLockScreenActive?.();)await Ee(500)}catch(e){this.warn("Error while checking if unlocked:",e)}}handleDesktopRouterRender(e,t){const n=this.MillenniumDesktopRouterWrapper,o=this.MillenniumGlobalComponentsWrapper;if(this.debug("desktop router render",t),t._millennium)return t;const i=()=>(SP_REACT.useEffect(()=>{this.debug("Desktop router rendered, emitting setup"),setTimeout(this.emitRouterSetup.bind(this),250)},[]),SP_JSX_FACTORY.jsxs(SP_JSX_FACTORY.Fragment,{children:[SP_JSX_FACTORY.jsx(Eo,{millenniumRouterState:this.routerState,children:SP_JSX_FACTORY.jsx(n,{children:t})}),SP_JSX_FACTORY.jsx(ko,{millenniumGlobalComponentsState:this.globalComponentsState,children:SP_JSX_FACTORY.jsx(o,{uiMode:mo.Desktop})})]}));return i()._millennium=!0,i()}handleGamepadRouterRender(e,t){const n=this.MillenniumGamepadRouterWrapper,o=this.MillenniumGlobalComponentsWrapper;if(console.log("gamepad router render",t),t._millennium)return t;const i=SP_JSX_FACTORY.jsxs(SP_JSX_FACTORY.Fragment,{children:[SP_JSX_FACTORY.jsx(Eo,{millenniumRouterState:this.routerState,children:SP_JSX_FACTORY.jsx(n,{children:t})}),SP_JSX_FACTORY.jsx(ko,{millenniumGlobalComponentsState:this.globalComponentsState,children:SP_JSX_FACTORY.jsx(o,{uiMode:mo.GamePad})})]});return i._millennium=!0,i}globalComponentsWrapper({uiMode:e}){const{components:t}=SP_REACT.useContext(Do),n=t.get(e);return n?(this.renderedComponents.has(e)&&this.renderedComponents.get(e)?.length==n.size||(this.debug("Rerendering global components for uiMode",e),this.renderedComponents.set(e,Array.from(n.values()).map(e=>SP_JSX_FACTORY.jsx(e,{})))),SP_JSX_FACTORY.jsx(SP_JSX_FACTORY.Fragment,{children:this.renderedComponents.get(e)})):(this.warn(`Couldn't find global components map for uimode ${e}`),null)}gamepadRouterWrapper({children:e}){const{routes:t,routePatches:n}=Io();if(!e?.props?.children?.[0]?.props?.children)return this.debug("routerWrapper wrong component?",e),e;const o=e.props.children[0].props.children,i=e.props.children[1].props.children;return this.processList(o,t,n.get(mo.GamePad),!0,this.Route),this.processList(i,null,n.get(mo.GamePad),!1,this.Route),this.debug("Rerendered gamepadui routes list"),e}desktopRouterWrapper({children:e}){const{routes:t,routePatches:n}=Io(),o=X(e,e=>e?.length>2&&e?.find(e=>"/console"==e?.props?.path));if(!o)return this.debug("routerWrapper wrong component?",e),e;this.processList(o,t,n.get(mo.Desktop),!0,this.DesktopRoute);const i=o.find(e=>e?.props&&"cm"in e.props&&"bShowDesktopUIContent"in e.props);return this.wrappedDesktopLibraryMemo?i.type=this.wrappedDesktopLibraryMemo:(W(i),L(i.type,"type",(e,t)=>{const{routePatches:n}=Io(),o=X(t,e=>e?.length>1&&e?.find(e=>"/library/downloads"==e?.props?.path));return o?(this.processList(o,null,n.get(mo.Desktop),!1,this.DesktopRoute),t):(this.warn("failed to find library route list",t),t)}),this.wrappedDesktopLibraryMemo=i.type),this.debug("Rerendered desktop routes list"),e}processList(e,t,n,o,i){this.debug("Route list: ",e),o&&(this.routes=e);let r=e.length;if(t&&(!e[r-1]?.length||e[r-1]?.length!==t.size)){e[r-1]?.length&&e[r-1].length!==t.size&&r--;const n=[];t.forEach(({component:e,props:t},o)=>{n.push(SP_JSX_FACTORY.jsx(i,{path:o,...t,children:SP_JSX_FACTORY.jsx(Je,{children:SP_REACT.createElement(e)})}))}),e[r]=n}e.forEach((t,o)=>{const i=this.toReplace.get(t?.props?.path);i&&(e[o].props.children=i,this.toReplace.delete(t?.props?.path)),t?.props?.path&&n?.has(t.props.path)&&(this.toReplace.set(t?.props?.path,e[o].props.children),n?.get(t.props.path)?.forEach(t=>{const n=e[o].props.children.type;e[o].props.children=t({...e[o].props,children:{...SP_REACT.cloneElement(e[o].props.children),type:e[o].props.children[Mo]?n:e=>SP_REACT.createElement(n,e)}}).children,e[o].props.children[Mo]=!0}))})}addRoute(e,t,n={}){this.routerState.addRoute(e,t,n)}addPatch(e,t,n=mo.Desktop){return this.routerState.addPatch(e,t,n)}addGlobalComponent(e,t,n=mo.Desktop){this.globalComponentsState.addComponent(e,t,n)}removeGlobalComponent(e,t=mo.Desktop){this.globalComponentsState.removeComponent(e,t)}removePatch(e,t,n=mo.Desktop){this.routerState.removePatch(e,t,n)}removeRoute(e){this.routerState.removeRoute(e)}deinit(){this.modeChangeRegistration?.unregister(),this.gamepadRouterPatch?.unpatch(),this.desktopRouterPatch?.unpatch()}},Xo=new class extends l{constructor(){super("Toaster"),window.__TOASTER_INSTANCE?.deinit?.(),window.__TOASTER_INSTANCE=this;const e=z(n(e=>e?.toString?.()?.includes('controller:"notification",method:')));this.toastPatch=O(e,"component",e=>e?.[0]?.group?.millennium||e?.[0]?.group?.notifications?.[0]?.millennium?e[0].group.notifications.map(t=>SP_JSX_FACTORY.jsx(Je,{children:SP_JSX_FACTORY.jsx(Bo,{toast:t.data,newIndicator:t.bNewIndicator,location:e?.[0]?.location})})):D),this.log("Initialized")}toast(e){void 0===e.sound&&(e.sound=6),void 0===e.playSound&&(e.playSound=!0),void 0===e.showToast&&(e.showToast=!0),void 0===e.timestamp&&(e.timestamp=new Date),void 0===e.showNewIndicator&&(e.showNewIndicator=!0);let t,n={nNotificationID:window.NotificationStore.m_nNextTestNotificationID++,bNewIndicator:e.showNewIndicator,rtCreated:Date.now(),eType:e.eType||12,eSource:1,nToastDurationMS:e.duration||(e.duration=5e3),data:e,millennium:!0};const o={showToast:e.showToast,sound:e.sound,eFeature:0,toastDurationMS:n.nToastDurationMS,bCritical:e.critical,fnTray:function(e,n){t={eType:e.eType,notifications:[e]},n.unshift(t)}},i=this;let r;const a={data:e,dismiss(){i.debug("Dismissing toast",e);try{r&&clearTimeout(r),t&&window.NotificationStore.RemoveGroupFromTray(t)}catch(e){i.error("Error while dismissing toast:",e)}}};e.expiration&&(r=window.setTimeout(()=>{i.debug("Dismissing expired toast",e);try{t&&window.NotificationStore.RemoveGroupFromTray(t)}catch(e){this.error("Error while dismissing expired toast:",e)}},e.expiration));try{window.NotificationStore.ProcessNotification(o,n,jo.New)}catch(e){this.error("Error while sending toast:",e)}return a}deinit(){this.toastPatch?.unpatch()}},Jo=e=>(...t)=>e(...t);export{F as Button,Ge as ButtonItem,We as Carousel,Co as ChromeDevToolsProtocol,p as Classes,xt as ColorPickerModal,t as CommonUIModule,lt as ConfirmModal,Be as ControlsList,_ as DialogBody,P as DialogBodyText,T as DialogButton,b as DialogButtonPrimary,A as DialogButtonSecondary,je as DialogCheckbox,v as DialogControlsSection,w as DialogControlsSectionHeader,R as DialogFooter,C as DialogHeader,y as DialogLabel,f as DialogSubHeader,Ke as Dropdown,Xe as DropdownItem,zn as EACState,Fn as EActivateGameOverlayToWebPageMode,zt as EAppAllowDownloadsWhileRunningBehavior,on as EAppAssociationType,$t as EAppAutoUpdateBehavior,sn as EAppCloudStatus,rn as EAppControllerSupportLevel,Xt as EAppLaunchOptionType,qt as EAppOwnershipFlags,Ht as EAppReleaseState,nn as EAppType,Vt as EAppUpdateError,yn as EAudioPlayback,dn as EAuthTokenPlatformType,Qn as EBatteryState,Hn as EBroadcastEncoderSetting,Xn as EBroadcastPermission,po as EBrowserType,hn as EChatFlashMode,Kn as EClientBetaState,_n as EClientNotificationType,pn as EClientUINotificationType,Ln as EClientUsedInputType,tn as ECloudPendingRemoteOperation,lo as EComputerActiveState,mn as EControllerConfigExportType,Sn as EControllerRumbleSetting,fn as EControllerType,Qt as EDisplayStatus,Jn as EExportCodec,Vn as EGRAudio,Yn as EGRExportLimitType,qn as EGRMode,wn as EGameRecordingErrorType,cn as EGamingDeviceType,$n as EHDRVisualization,gn as EHIDKeyboardKey,bn as EHMDActivityLevel,Rn as EInstallMgrState,Gn as EJoinServerError,An as EKeyboardFlags,jn as ELanguage,en as ELaunchSource,Kt as ELibraryAssetType,ro as ELoginState,Pn as EMusicPlayingRepeatStatus,Tn as ENotificationPosition,no as EOSBranch,eo as EOSType,Dn as EOverlayToStoreFlag,kn as EParentalFeature,ln as ERaiseGameWindowResult,On as ERemoteClientLaunch,uo as EResult,xn as EServerBrowserGameFilterAntiCheat,Un as EServerBrowserGameFilterPing,ao as EShutdownStep,an as ESteamDeckCompatibilityCategory,Zt as ESteamDeckCompatibilityTestResult,Bn as ESteamGuardState,Yt as ESteamInputController,ho as ESteamRealm,Zn as EStorageFormatStage,En as EStreamHostPlayAudioPreference,Nn as EStreamP2PScope,Mn as EStreamQualityPreference,In as EStreamVideoCodec,so as ESuspendResumeProgressState,vn as ESystemUpdateNotificationType,Cn as EThirdPartyControllerConfiguration,un as ETouchGesture,Wn as EUCMFilePrivacyState,go as EUIComposition,mo as EUIMode,oo as EUpdaterState,io as EUpdaterType,co as EWindowBringToFront,to as EWindowType,Jt as EWorkshopFileType,Je as ErrorBoundary,Ve as Field,$e as FocusRing,qe as Focusable,ze as GamepadButton,a as IconsModule,Qe as Marquee,tt as Menu,ot as MenuGroup,it as MenuItem,rt as MenuSeparator,fo as Millennium,ht as ModalPosition,dt as ModalRoot,_o as Navigation,St as PanelSection,Ct as PanelSectionRow,ft as ProgressBar,Pt as ProgressBarItem,Rt as ProgressBarWithInfo,yo as QuickAccessTab,s as ReactRouter,Ut as ReorderableList,Po as Router,Et as ScrollPanel,Mt as ScrollPanelGroup,Ro as SideMenu,vt as SidebarNavigation,pt as SimpleModal,wt as SliderField,bt as Spinner,At as SteamSpinner,Nt as SuspensefulImage,Dt as Tabs,kt as TextField,Lt as Toggle,Ot as ToggleField,Oe as achievementClasses,fe as achievementListClasses,Re as achievementPageClasses,L as afterPatch,we as appActionButtonClasses,ge as appDetailsClasses,he as appDetailsHeaderClasses,x as applyHookStubs,Pe as basicAppDetailsSectionStylerClasses,k as beforePatch,D as callOriginal,c as classMap,d as classMapList,E as createPropListRegex,re as createReactTreePatcher,Jo as definePlugin,Ko as errorBoundaryHook,G as fakeRenderComponent,e as findAllModules,u as findClass,h as findClassModule,X as findInReactTree,H as findInTree,o as findModule,i as findModuleByExport,r as findModuleDetailsByExport,n as findModuleExport,Me as findSP,Te as focusRingClasses,ve as footerClasses,Ce as gamepadContextMenuClasses,le as gamepadDialogClasses,Ae as gamepadLibraryClasses,pe as gamepadSliderClasses,Se as gamepadTabbedPageClasses,me as gamepadUIClasses,Ne as getFocusNavController,xe as getGamepadNavigationTrees,J as getParentWindow,K as getReactInstance,j as getReactRoot,z as injectFCTrampoline,Ie as joinClassNames,be as libraryAssetImageClasses,De as mainBrowserClasses,ye as mainMenuAppRunningClasses,ue as playSectionClasses,So as pluginSelf,de as quickAccessControlsClasses,ae as quickAccessMenuClasses,U as removeHookStubs,O as replacePatch,Ho as routerHook,Le as scrollClasses,se as scrollPanelClasses,Fe as searchBarClasses,q as setFCTrampolineLoggingEnabled,ee as setReactPatcherLoggingEnabled,te as setReactPatcherPerformanceLoggingEnabled,Ze as showContextMenu,st as showModal,Ee as sleep,ke as staticClasses,_e as steamSpinnerClasses,Xo as toaster,g as unminifyClass,ce as updaterFieldClasses,jt as useParams,Bt as useQuickAccessVisible,V as useWindowRef,B as wrapReactClass,W as wrapReactType};
//# sourceMappingURL=chunk-index.js.map
